<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wa!RayQ&#39;s house</title>
  
  
  <link href="http://yoursite.com/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2023-02-27T05:47:47.779Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Rayqian</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>git提交规范 Commitizen</title>
    <link href="http://yoursite.com/2023/02/27/git/"/>
    <id>http://yoursite.com/2023/02/27/git/</id>
    <published>2023-02-27T02:40:38.000Z</published>
    <updated>2023-02-27T05:47:47.779Z</updated>
    
    <content type="html"><![CDATA[<h2 id="git提交规范-Commitizen"><a href="#git提交规范-Commitizen" class="headerlink" title="git提交规范 Commitizen"></a>git提交规范 Commitizen</h2><p>   Commitizen是一个撰写符合上面Commit Message标准的一款工具，可以帮助开发者提交符合规范的Commit Message。</p><blockquote><p>安装</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 安装提交</span><br><span class="line">npm install commitizen -g</span><br><span class="line"># 安装规范</span><br><span class="line">npm install -g cz-conventional-changelog</span><br></pre></td></tr></table></figure><p>安装好后，使用<code>cz</code>，<code>git cz</code>或者<code>git-cz</code> 来取代<code>git commit</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;git提交规范-Commitizen&quot;&gt;&lt;a href=&quot;#git提交规范-Commitizen&quot; class=&quot;headerlink&quot; title=&quot;git提交规范 Commitizen&quot;&gt;&lt;/a&gt;git提交规范 Commitizen&lt;/h2&gt;&lt;p&gt;   Com</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>vim模式 输入法中英文切换</title>
    <link href="http://yoursite.com/2023/02/23/vim%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%87%E6%8D%A2/"/>
    <id>http://yoursite.com/2023/02/23/vim%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%87%E6%8D%A2/</id>
    <published>2023-02-23T02:54:12.000Z</published>
    <updated>2023-02-23T05:55:35.451Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>最近开始频繁的使用vim模式，但有一种情况让我很难受，那就是当我使用拼音写完注释后，切回vim-normal模式时，输入法仍然是中文，每次都要再次切到中文，特别是在客户领导在旁边催你进度时尤为明显。<br>最近在刷b站时碰巧刷到一个up的视频，终于找到一个解决方案，vim_mode我会在vscode、iterm2和idea中都会用到，所以改变输入法是最好的选择<br>备注来源：b站up主 阿崔cxr</p></blockquote><h1 id="Rime-Squirrel-鼠须管输入法"><a href="#Rime-Squirrel-鼠须管输入法" class="headerlink" title="Rime Squirrel 鼠须管输入法"></a>Rime Squirrel 鼠须管输入法</h1><p><a href="https://rime.im/">RIME|中州韻輸入法引擎</a> 是一款聪明的输入法，它是一款可以由用户自己来制作的输入法，虽然自己定制的门坎会高，但如果你有耐心就可以根据这个输入法引擎自己来设计。(RIME一个开源(github)的可高度定制的输入法(框架)<br>本身下载下来就可以直接使用，只不过默认的中文是繁体字。<br>如果不想设计也不要紧，因为已经有很多成品可以使用。<br><a href="https://github.com/ssnhd/rime">ssnhd/rime</a>配置文件可以帮助你，打开网址，下载下来，里面的花园明朝字体需要安装，用来解决生僻字，而配置文件则可以直接复制copy到输入法里面的配置中，之后点击重新部署就完成了。</p><p>至此输入法就处理好了，接下来就处理vim_mode中英文切换<br>配置文件<code>squirrel.custom.yaml</code>最下面的配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> # 特定App默认中/英文输入   </span><br><span class="line">app_options:    </span><br><span class="line">  com.apple.Spotlight:             # 聚焦搜索</span><br><span class="line">      ascii_mode: true             # true默认英文,false默认中文</span><br><span class="line">  com.runningwithcrayons.Alfred:   # alfred</span><br><span class="line">      ascii_mode: true</span><br><span class="line">  com.apple.Terminal:              # 终端</span><br><span class="line">      ascii_mode: true</span><br><span class="line">      ascii_punct: true</span><br><span class="line">  com.microsoft.VSCode:            # Visual Studio Code</span><br><span class="line">      ascii_mode: true</span><br><span class="line">      ascii_punct: true            # 中文状态输出英文标点(半角) </span><br><span class="line">      vim_mode: true               # 设置vim模式,insert模式切换到normal模式时,自动变成英文输入</span><br><span class="line">  com.tencent.Lemon:               # 腾讯柠檬</span><br><span class="line">      ascii_mode: true</span><br><span class="line">  com.apple.dt.Xcode:              # Xcode</span><br><span class="line">      ascii_mode: true</span><br><span class="line">  com.nektony.App-Cleaner-SII:     # App Cleaner &amp; Uninstaller</span><br><span class="line">      ascii_mode: true</span><br><span class="line">  com.xunyong.hapigo:              # hapigo</span><br><span class="line">      ascii_mode: true</span><br><span class="line">  com.jetbrains.intellij:          # intellij   idea</span><br><span class="line">      ascii_mode: true</span><br><span class="line">      ascii_punct: true</span><br><span class="line">      vim_mode: true</span><br><span class="line">  com.googlecode.iterm2:           #iterm2</span><br><span class="line">      ascii_mode: true</span><br><span class="line">      ascii_punct: true</span><br><span class="line">      vim_mode: true</span><br></pre></td></tr></table></figure><p>重新部署后，就能愉快的使用了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;最近开始频繁的使用vim模式，但有一种情况让我很难受，那就是当我使用拼音写完注释后，切回vim-normal模式时，输入法仍然是中文，每次都要再次切到中文，特别是在客户领导在旁边催你进度时尤为明显。&lt;br&gt;最近在刷b站时碰巧刷到一个up的视频，终于</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>macvim和tmux 安装配置</title>
    <link href="http://yoursite.com/2022/11/06/macvim-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2022/11/06/macvim-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</id>
    <published>2022-11-06T08:42:18.000Z</published>
    <updated>2022-12-16T07:13:26.373Z</updated>
    
    <content type="html"><![CDATA[<h1 id="macvim-和-tmux-安装"><a href="#macvim-和-tmux-安装" class="headerlink" title="macvim 和 tmux 安装"></a>macvim 和 tmux 安装</h1><h1 id="配置插件"><a href="#配置插件" class="headerlink" title="配置插件"></a>配置插件</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看预装vim版本</span></span><br><span class="line">vim --version</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看预装vim路径</span></span><br><span class="line"><span class="built_in">where</span> vim</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用brew 安装</span></span><br><span class="line">brew install macvim</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为macvim中的vim创建别名，将其添加至~/.zshrc配置文件</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;alias vim=&quot;/usr/local/Cellar/macvim/8.0-133/MacVim.app/Contents/MacOS/vim&quot;&#x27;</span> &gt;&gt; ~/.zshrc</span><br><span class="line"><span class="comment"># 重新加载.zshrc以使修改生效 </span></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>然后直接输入<code>vim</code>就能打开macvim<br>接下来给vim做配置</p><h1 id="vim配置参数"><a href="#vim配置参数" class="headerlink" title="vim配置参数"></a>vim配置参数</h1><p>给<code>vim</code>添加参数</p><h3 id="安装vim插件管理器——Vundle"><a href="#安装vim插件管理器——Vundle" class="headerlink" title="安装vim插件管理器——Vundle"></a>安装vim插件管理器——Vundle</h3><p><code>vim</code>的插件管理工具，安装、更新和移除vim插件，不需要手动来管理vim插件</p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim</span><br></pre></td></tr></table></figure><p>安装好后，所有的插件都会在<code>~/.vim/bundle/</code>目录下，接下来可以通过<code>.vimrc</code>配置文件来管理所有扩展了。<br>可以到<code>github</code>中查看如何配置，下面是精简后的（<code>.vimrc</code>文件）</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> nocompatible              <span class="comment">&quot; 去除VI一致性,必须</span></span><br><span class="line"><span class="keyword">filetype</span> off                  <span class="comment">&quot; 必须</span></span><br><span class="line"><span class="comment">&quot; set the runtime path to include vundle and initialize</span></span><br><span class="line"><span class="keyword">set</span> rtp+=~/.<span class="keyword">vim</span>/bundle/Vundle.<span class="keyword">vim</span></span><br><span class="line"><span class="keyword">call</span> vundle#begin()</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 接下来就可以把插件放进去了，</span></span><br><span class="line"><span class="comment">&quot; 这两个是官方默认放入的插件</span></span><br><span class="line">Plugin <span class="string">&#x27;vundlevim/vundle.vim&#x27;</span></span><br><span class="line">Plugin <span class="string">&#x27;tpope/vim-fugitive&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 结尾</span></span><br><span class="line"><span class="keyword">call</span> vundle#end()            <span class="comment">&quot; required</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="built_in">indent</span> <span class="keyword">on</span>    <span class="comment">&quot; required</span></span><br></pre></td></tr></table></figure><p>把插件放入 <code>call vundle#begin()</code> 和 <code>call vundle#end() </code>直接，使用<code>Plugin</code>开头。<br>配置后，控制台输入<code>vim</code>, 在<code>normal</code>模式下（也就是刚刚进入时的状态），输入并运行命令<code>:PluginInstall</code>来进行安装插件</p><h4 id="给macvim添加树状目录——NERDTree"><a href="#给macvim添加树状目录——NERDTree" class="headerlink" title="给macvim添加树状目录——NERDTree"></a>给macvim添加树状目录——NERDTree</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&quot;  添加插件</span></span><br><span class="line">Plugin <span class="string">&#x27;preservim/nerdtree&#x27;</span></span><br></pre></td></tr></table></figure><p>文档：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">F3：自定义启用/隐藏目录树</span><br><span class="line">?: 快速帮助文档</span><br><span class="line">o: 打开一个目录或者打开文件，创建的是buffer，也可以用来打开书签</span><br><span class="line">go: 打开一个文件，但是光标仍然留在NERDTree，创建的是buffer</span><br><span class="line">t: 打开一个文件，创建的是Tab，对书签同样生效</span><br><span class="line">T: 打开一个文件，但是光标仍然留在NERDTree，创建的是Tab，对书签同样生效</span><br><span class="line">i: 水平分割创建文件的窗口，创建的是buffer</span><br><span class="line">gi: 水平分割创建文件的窗口，但是光标仍然留在NERDTree</span><br><span class="line">s: 垂直分割创建文件的窗口，创建的是buffer</span><br><span class="line">gs: 和gi，go类似</span><br><span class="line">x: 收起当前打开的目录</span><br><span class="line">X: 收起所有打开的目录</span><br><span class="line">e: 以文件管理的方式打开选中的目录</span><br><span class="line">D: 删除书签</span><br><span class="line">P: 大写，跳转到当前根路径</span><br><span class="line">p: 小写，跳转到光标所在的上一级路径</span><br><span class="line">K: 跳转到第一个子路径</span><br><span class="line">J: 跳转到最后一个子路径</span><br><span class="line">&lt;C-j&gt;和&lt;C-k&gt;: 在同级目录和文件间移动，忽略子目录和子文件</span><br><span class="line">C: 将根路径设置为光标所在的目录</span><br><span class="line">u: 设置上级目录为根路径</span><br><span class="line">U: 设置上级目录为跟路径，但是维持原来目录打开的状态</span><br><span class="line">r: 刷新光标所在的目录</span><br><span class="line">R: 刷新当前根路径</span><br><span class="line">I: 显示或者不显示隐藏文件</span><br><span class="line">f: 打开和关闭文件过滤器</span><br><span class="line">q: 关闭NERDTree</span><br><span class="line">A: 全屏显示NERDTree，或者关闭全屏</span><br></pre></td></tr></table></figure><p>配置相关内容，下面是我文件的配置内容<br><code>.vimrc</code> 文件中的内容</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">number</span></span><br><span class="line"><span class="keyword">set</span> ruler</span><br><span class="line"><span class="keyword">set</span> showcmd</span><br><span class="line"><span class="keyword">set</span> showtabline=<span class="number">0</span>               <span class="string">&quot;隐藏顶部标签栏&quot;</span></span><br><span class="line"><span class="keyword">set</span> guioptions-=r               <span class="string">&quot;隐藏右侧滚动条&quot;</span></span><br><span class="line"><span class="keyword">set</span> guioptions-=L               <span class="string">&quot;隐藏左侧滚动条&quot;</span></span><br><span class="line"><span class="keyword">set</span> guioptions-=<span class="keyword">b</span>               <span class="string">&quot;隐藏底部滚动条&quot;</span></span><br><span class="line"><span class="keyword">set</span> cursorline                  <span class="string">&quot;突出显示当前行&quot;</span></span><br><span class="line"><span class="string">&quot; set cursorcolumn                突出显示当前列&quot;</span></span><br><span class="line"><span class="keyword">set</span> langmenu=zh_CN.UTF-<span class="number">8</span>        <span class="comment">&quot;显示中文菜单</span></span><br><span class="line"><span class="keyword">syntax</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">history</span>=<span class="number">1000</span></span><br><span class="line"><span class="comment">&quot; set fileencodings=utf-8,gb2312,gbk,cp936,latin-1</span></span><br><span class="line"><span class="keyword">set</span> fileencoding=utf-<span class="number">8</span></span><br><span class="line"><span class="keyword">set</span> termencoding=utf-<span class="number">8</span></span><br><span class="line"><span class="keyword">set</span> fileformat=unix</span><br><span class="line"><span class="keyword">set</span> encoding=utf-<span class="number">8</span></span><br><span class="line"><span class="keyword">colorscheme</span> desert</span><br><span class="line"><span class="keyword">set</span> t_Co=<span class="number">256</span></span><br><span class="line"><span class="keyword">set</span> wildmenu</span><br><span class="line"><span class="keyword">set</span> autoindent</span><br><span class="line"><span class="keyword">set</span> smartindent<span class="comment">&quot; 开启新行时使用智能自动缩进</span></span><br><span class="line"><span class="keyword">set</span> expandtab</span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> backspace+=<span class="built_in">indent</span>,eol,start <span class="comment">&quot;set backspace&amp;可以对其重置</span></span><br><span class="line"><span class="keyword">set</span> softtabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> showmatch<span class="comment">&quot; 插入括号时，短暂地跳转到匹配的对应括号</span></span><br><span class="line"><span class="keyword">set</span> scrolloff=<span class="number">3</span>                 <span class="string">&quot;距离顶部和底部3行&quot;</span></span><br><span class="line"><span class="keyword">set</span> laststatus=<span class="number">2</span>                <span class="string">&quot;命令行为两行&quot;</span></span><br><span class="line"><span class="keyword">au</span> FileType html,<span class="keyword">python</span>,<span class="keyword">vim</span>,javascript <span class="keyword">setl</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span></span><br><span class="line"><span class="keyword">au</span> FileType html,<span class="keyword">python</span>,<span class="keyword">vim</span>,javascript <span class="keyword">setl</span> tabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">au</span> FileType java,php <span class="keyword">setl</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span></span><br><span class="line"><span class="keyword">au</span> FileType java,php <span class="keyword">setl</span> tabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> hlsearch<span class="comment">&quot; 搜索时高亮显示被找到的文本</span></span><br><span class="line"><span class="keyword">set</span> mouse=<span class="keyword">a</span>                     <span class="string">&quot;启用鼠标&quot;</span></span><br><span class="line"><span class="keyword">set</span> selection=exclusive</span><br><span class="line"><span class="keyword">set</span> selectmode=mouse,key</span><br><span class="line"><span class="keyword">set</span> matchtime=<span class="number">5</span></span><br><span class="line"><span class="keyword">set</span> ignorecase                  <span class="string">&quot;忽略大小写&quot;</span></span><br><span class="line"><span class="keyword">set</span> incsearch</span><br><span class="line"><span class="keyword">set</span> noexpandtab                 <span class="string">&quot;不允许扩展table&quot;</span></span><br><span class="line"><span class="keyword">set</span> whichwrap+=&lt;,&gt;,h,<span class="keyword">l</span></span><br><span class="line"><span class="keyword">filetype</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="keyword">on</span></span><br><span class="line"><span class="keyword">filetype</span> <span class="built_in">indent</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">cindent</span></span><br><span class="line"><span class="keyword">set</span> completeopt=longest,<span class="keyword">menu</span></span><br><span class="line"><span class="keyword">set</span> noeb</span><br><span class="line"><span class="keyword">set</span> autowrite</span><br><span class="line"><span class="keyword">set</span> cursorline</span><br><span class="line"><span class="keyword">set</span> clipboard+=unnamed</span><br><span class="line"><span class="keyword">set</span> autoread</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> nocompatible              <span class="comment">&quot; 去除VI一致性,必须</span></span><br><span class="line"><span class="keyword">filetype</span> off                  <span class="comment">&quot; 必须</span></span><br><span class="line"><span class="comment">&quot; set the runtime path to include vundle and initialize</span></span><br><span class="line"><span class="keyword">set</span> rtp+=~/.<span class="keyword">vim</span>/bundle/Vundle.<span class="keyword">vim</span></span><br><span class="line"><span class="keyword">call</span> vundle#begin()</span><br><span class="line"><span class="comment">&quot; alternatively, pass a path where vundle should install plugins</span></span><br><span class="line"><span class="comment">&quot;call vundle#begin(&#x27;~/some/path/here&#x27;)</span></span><br><span class="line"><span class="comment">&quot; let vundle manage vundle, required</span></span><br><span class="line">Plugin <span class="string">&#x27;vundlevim/vundle.vim&#x27;</span></span><br><span class="line"><span class="keyword">map</span><span class="symbol">&lt;F6&gt;</span> :CommandT <span class="symbol">&lt;CR&gt;</span></span><br><span class="line">Plugin <span class="string">&#x27;preservim/tagbar&#x27;</span></span><br><span class="line"><span class="keyword">map</span><span class="symbol">&lt;F5&gt;</span> :TagbarOpen <span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:tagbar_ctags_bin</span>=<span class="string">&#x27;/usr/local/bin/ctags&#x27;</span></span><br><span class="line"><span class="keyword">let</span> Tagbar_Show_One_File=<span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> Tagbar_WinWidt=<span class="number">11</span></span><br><span class="line"><span class="keyword">let</span> Tagbar_Use_Right_Window=<span class="number">1</span></span><br><span class="line"><span class="comment">&quot;autocmd BufReadPost *.py,*.cpp,*.c,*.h,*.hpp,*.cc,*.cxx call tagbar#autoopen() </span></span><br><span class="line"><span class="keyword">autocmd</span> VimEnter  *  nested :TagbarOpen</span><br><span class="line">Plugin <span class="string">&#x27;scrooloose/nerdcommenter&#x27;</span></span><br><span class="line">Plugin <span class="string">&#x27;bling/vim-airline&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_powerline_fonts</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; the following are examples of different formats supported.</span></span><br><span class="line"><span class="comment">&quot; keep plugin commands between vundle#begin/end.</span></span><br><span class="line"><span class="comment">&quot; plugin on github repo</span></span><br><span class="line">Plugin <span class="string">&#x27;tpope/vim-fugitive&#x27;</span></span><br><span class="line"></span><br><span class="line">Plugin <span class="string">&#x27;preservim/nerdtree&#x27;</span></span><br><span class="line"><span class="comment">&quot;使用F3键快速调出和隐藏它</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;F3&gt;</span> :NERDTreeToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">let</span> NERDTreeChDirMode=<span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:NERDTreeDirArrowExpandable</span> = <span class="string">&#x27;▸&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:NERDTreeDirArrowCollapsible</span> = <span class="string">&#x27;▾&#x27;</span></span><br><span class="line"><span class="comment">&quot; open NERDTree automatically when VIM start</span></span><br><span class="line"><span class="comment">&quot; autocmd vimenter * NERDTree</span></span><br><span class="line"><span class="keyword">let</span> NERDTreeIgnore = [<span class="string">&#x27;\.pyc$&#x27;</span>, <span class="string">&#x27;\.swp&#x27;</span>, <span class="string">&#x27;\.swo&#x27;</span>, <span class="string">&#x27;\.vscode&#x27;</span>, <span class="string">&#x27;__pycache__&#x27;</span>]</span><br><span class="line"><span class="comment">&quot;How can I open NERDTree automatically when vim starts up on opening a directory?</span></span><br><span class="line"><span class="comment">&quot;autocmd StdinReadPre * let s:std_in=1</span></span><br><span class="line"><span class="string">&quot;autocmd VimEnter * if argc() == 1 &amp;&amp; isdirectory(argv()[0]) &amp;&amp; !exists(&quot;</span><span class="variable">s:std_in</span><span class="comment">&quot;) | exe &#x27;NERDTree&#x27; argv()[0] | wincmd p | ene | endif</span></span><br><span class="line"><span class="comment">&quot; 关闭vim时，如果打开的文件除了NERDTree没有其他文件时，它自动关闭，减少多次按:q!</span></span><br><span class="line"><span class="comment">&quot; Exit Vim if NERDTree is the only window remaining in the only tab.</span></span><br><span class="line"><span class="comment">&quot;autocmd BufEnter * if tabpagenr(&#x27;$&#x27;) == 1 &amp;&amp; winnr(&#x27;$&#x27;) == 1 &amp;&amp; exists(&#x27;b:NERDTree&#x27;) &amp;&amp; b:NERDTree.isTabTree() | quit | endif</span></span><br><span class="line"><span class="comment">&quot; Close the tab if NERDTree is the only window remaining in it.</span></span><br><span class="line"><span class="keyword">autocmd</span> BufEnter * <span class="keyword">if</span> <span class="built_in">winnr</span>(<span class="string">&#x27;$&#x27;</span>) == <span class="number">1</span> &amp;&amp; <span class="built_in">exists</span>(<span class="string">&#x27;b:NERDTree&#x27;</span>) &amp;&amp; <span class="variable">b:NERDTree</span>.isTabTree() | <span class="keyword">quit</span> | <span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line">Plugin <span class="string">&#x27;xuyuanp/nerdtree-git-plugin&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:NERDTreeGitStatusIndicatorMapCustom</span> = &#123;</span><br><span class="line">                \ <span class="string">&#x27;Modified&#x27;</span>  :<span class="string">&#x27;✹&#x27;</span>,</span><br><span class="line">                \ <span class="string">&#x27;Staged&#x27;</span>    :<span class="string">&#x27;✚&#x27;</span>,</span><br><span class="line">                \ <span class="string">&#x27;Untracked&#x27;</span> :<span class="string">&#x27;✭&#x27;</span>,</span><br><span class="line">                \ <span class="string">&#x27;Renamed&#x27;</span>   :<span class="string">&#x27;➜&#x27;</span>,</span><br><span class="line">                \ <span class="string">&#x27;Unmerged&#x27;</span>  :<span class="string">&#x27;═&#x27;</span>,</span><br><span class="line">                \ <span class="string">&#x27;Deleted&#x27;</span>   :<span class="string">&#x27;✖&#x27;</span>,</span><br><span class="line">                \ <span class="string">&#x27;Dirty&#x27;</span>     :<span class="string">&#x27;✗&#x27;</span>,</span><br><span class="line">                \ <span class="string">&#x27;Ignored&#x27;</span>   :<span class="string">&#x27;☒&#x27;</span>,</span><br><span class="line">                \ <span class="string">&#x27;Clean&#x27;</span>     :<span class="string">&#x27;✔︎&#x27;</span>,</span><br><span class="line">                \ <span class="string">&#x27;Unknown&#x27;</span>   :<span class="string">&#x27;?&#x27;</span>,</span><br><span class="line">                \ &#125;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:NERDTreeGitStatusUseNerdFonts</span> = <span class="number">1</span> <span class="comment">&quot; you should install nerdfonts by yourself. default: 0</span></span><br><span class="line">Plugin <span class="string">&#x27;tiagofumo/vim-nerdtree-syntax-highlight&#x27;</span></span><br><span class="line">Plugin <span class="string">&#x27;ryanoasis/vim-devicons&#x27;</span></span><br><span class="line"><span class="comment">&quot; loading the plugin</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:webdevicons_enable</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot; adding the flags to NERDTree</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:webdevicons_enable_nerdtree</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot; adding the custom source to unite</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:webdevicons_enable_unite</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot; adding the column to vimfiler</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:webdevicons_enable_vimfiler</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot; adding to vim-airline&#x27;s tabline</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:webdevicons_enable_airline_tabline</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot; adding to vim-airline&#x27;s statusline</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:webdevicons_enable_airline_statusline</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot; ctrlp glyphs</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:webdevicons_enable_ctrlp</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot; adding to vim-startify screen</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:webdevicons_enable_startify</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot; adding to flagship&#x27;s statusline</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:webdevicons_enable_flagship_statusline</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:WebDevIconsOS</span> = <span class="string">&#x27;Darwin&#x27;</span></span><br><span class="line"></span><br><span class="line">Plugin <span class="string">&#x27;morhetz/gruvbox&#x27;</span></span><br><span class="line"><span class="comment">&quot; plugin from http://vim-scripts.org/vim/scripts.html</span></span><br><span class="line">Plugin <span class="string">&#x27;l9&#x27;</span></span><br><span class="line"><span class="comment">&quot; git plugin not hosted on github</span></span><br><span class="line"><span class="comment">&quot; plugin &#x27;git://git.wincent.com/command-t.git&#x27;</span></span><br><span class="line"><span class="comment">&quot; git repos on your local machine (i.e. when working on your own plugin)</span></span><br><span class="line"><span class="comment">&quot; plugin &#x27;file:///home/gmarik/path/to/plugin&#x27;</span></span><br><span class="line"><span class="comment">&quot; the sparkup vim script is in a subdirectory of this repo called vim.</span></span><br><span class="line"><span class="comment">&quot; pass the path to set the runtimepath properly.</span></span><br><span class="line"><span class="comment">&quot; plugin &#x27;rstacruz/sparkup&#x27;, &#123;&#x27;rtp&#x27;: &#x27;vim/&#x27;&#125;</span></span><br><span class="line"><span class="comment">&quot; avoid a name conflict with l9</span></span><br><span class="line"><span class="comment">&quot; plugin &#x27;user/l9&#x27;, &#123;&#x27;name&#x27;: &#x27;newl9&#x27;&#125;</span></span><br><span class="line"><span class="comment">&quot; all of your plugins must be added before the following line</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;F4&gt;</span> :!ctags -R<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">let</span> Tlist_Auto_Open = <span class="number">1</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;F2&gt;</span> :TlistToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="string">&quot;let Tlist_Use_Left_Windo =1             &quot;</span>在左侧窗口中显示<span class="built_in">taglist</span>窗</span><br><span class="line">Plugin <span class="string">&#x27;Yggdroot/LeaderF&#x27;</span></span><br><span class="line"><span class="comment">&quot;MatchTagAlways</span></span><br><span class="line">Plugin <span class="string">&#x27;Valloric/MatchTagAlways&#x27;</span></span><br><span class="line"><span class="comment">&quot;Markdown语法高亮</span></span><br><span class="line"><span class="comment">&quot;Bundle &#x27;plasticboy/vim-markdown&#x27;</span></span><br><span class="line"><span class="comment">&quot;markdown实时显示</span></span><br><span class="line">Plugin <span class="string">&#x27;suan/vim-instant-markdown&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;indentLine 代码缩进线标志线</span></span><br><span class="line">Plugin <span class="string">&#x27;Yggdroot/indentLine&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:indentLine_char</span> = <span class="string">&#x27;┆&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:indentLine_color_term</span> = <span class="number">239</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:indentLine_enabled</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;autocmd VimEnter * nested:IndentLinesToggle</span></span><br><span class="line"><span class="comment">&quot;delimitMate 自动补全引号(单引号/双引号/反引号), 括号(()[]&#123;&#125;)</span></span><br><span class="line">Plugin <span class="string">&#x27;Raimondi/delimitMate&#x27;</span></span><br><span class="line"></span><br><span class="line">Plugin <span class="string">&#x27;scrooloose/syntastic&#x27;</span></span><br><span class="line"><span class="comment">&quot; Syntastic ------------------------------</span></span><br><span class="line"><span class="comment">&quot; show list of errors and warnings on the current file</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;F6&gt;</span> :Errors<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">&quot; turn to next or previous errors, after open errors list</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;F7&gt;</span> :<span class="keyword">lnext</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;F8&gt;</span> :<span class="keyword">lprevious</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">&quot; check also when just opened the file</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_check_on_open</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">&quot; syntastic checker for javascript.</span></span><br><span class="line"><span class="comment">&quot; eslint is the only tool support JSX.</span></span><br><span class="line"><span class="comment">&quot; If you don&#x27;t need write JSX, you can use jshint.</span></span><br><span class="line"><span class="comment">&quot; And eslint is slow, but not a hindrance</span></span><br><span class="line"><span class="comment">&quot; let g:syntastic_javascript_checkers = [&#x27;jshint&#x27;]</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_javascript_checkers</span> = [<span class="string">&#x27;eslint&#x27;</span>]</span><br><span class="line"><span class="comment">&quot; don&#x27;t put icons on the sign column (it hides the vcs status icons of signify)</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_enable_signs</span> = <span class="number">0</span></span><br><span class="line"><span class="comment">&quot; custom icons (enable them if you use a patched font, and enable the previous </span></span><br><span class="line"><span class="comment">&quot; setting)</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_error_symbol</span> = <span class="string">&#x27;✗&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_warning_symbol</span> = <span class="string">&#x27;⚠&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_style_error_symbol</span> = <span class="string">&#x27;✗&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_style_warning_symbol</span> = <span class="string">&#x27;⚠&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> vundle#end()            <span class="comment">&quot; required</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="built_in">indent</span> <span class="keyword">on</span>    <span class="comment">&quot; required</span></span><br><span class="line"><span class="comment">&quot; to ignore plugin indent changes, instead use:</span></span><br><span class="line"><span class="comment">&quot;filetype plugin on</span></span><br><span class="line"><span class="comment">&quot;</span></span><br><span class="line"><span class="comment">&quot; brief help</span></span><br><span class="line"><span class="comment">&quot; :pluginlist          - list configured plugins</span></span><br><span class="line"><span class="comment">&quot; :plugininstall(!)    - install (update) plugins</span></span><br><span class="line"><span class="comment">&quot; :pluginsearch(!) foo - search (or refresh cache first) for foo</span></span><br><span class="line"><span class="comment">&quot; :pluginclean(!)      - confirm (or auto-approve) removal of unused plugins</span></span><br><span class="line"><span class="comment">&quot;</span></span><br><span class="line"><span class="comment">&quot; see :h vundle for more details or wiki for faq</span></span><br><span class="line"><span class="comment">&quot; put your non-plugin stuff after this line</span></span><br><span class="line">“ <span class="keyword">nnoremap</span>能将一个组合快捷键映射为另一个快捷键。<span class="keyword">no</span>部分，指的是Vim的正常模式（Normal Mode）</span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;leader&gt;</span>n :NERDTreeFocus<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;C-n&gt;</span> :NERDTree<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;C-t&gt;</span> :NERDTreeToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;C-f&gt;</span> :NERDTreeFind<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">set</span> guifont=<span class="symbol">&lt;FONT_NAME&gt;</span>:h<span class="symbol">&lt;FONT_SIZE&gt;</span></span><br><span class="line"><span class="keyword">set</span> guifont=DroidSansMono\ Nerd\ Fon<span class="variable">t:h11</span></span><br><span class="line"><span class="comment">&quot; or:</span></span><br><span class="line"><span class="keyword">set</span> guifont=DroidSansMono_Nerd_Fon<span class="variable">t:h11</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="tmux-终端复用器"><a href="#tmux-终端复用器" class="headerlink" title="tmux - 终端复用器"></a>tmux - 终端复用器</h1><p>全称：<code>terminal multiplexer</code><br>用于一个窗口操作多个会话的工具</p><p>安装：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tmux</span><br></pre></td></tr></table></figure><p>安装后，可以输入session，来创建窗口 并进入<code>tmux</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tmux new -s &lt;session-name&gt;</span><br></pre></td></tr></table></figure><p>配置文件：<code>~/.tmux.conf</code><br><code>ctrl+b</code> 是在<code>tmux</code>操作的</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在tmux中时，退出(detach)，同时按住ctrl和b，松开再按d。</span></span><br><span class="line">ctrl+b d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新进入tmux， 控制台输入</span></span><br><span class="line"><span class="comment">#target-session是你要进入的tmux session</span></span><br><span class="line">tmux attach -t &lt;target-session&gt;</span><br><span class="line"><span class="comment">#简写：</span></span><br><span class="line">tmux a -t &lt;target-session&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在控制台界面下，使用命令tmux ls来获取target-session</span></span><br><span class="line">tmux ls</span><br><span class="line"><span class="comment"># 进入target-session为20的窗口：</span></span><br><span class="line">tmux attach -t 20 </span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">tmux a -t 20</span><br><span class="line"><span class="comment"># 进入tmux之后会得到很多sessions, </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#会话切换</span></span><br><span class="line"><span class="comment">#在窗口间切换， session 中已经有了两个窗口</span></span><br><span class="line"><span class="comment">#切换到 0：bash 这个窗口，步骤如下：</span></span><br><span class="line"><span class="comment">#按 Ctrl-B 组合键，然后松开,按数字 0 键。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#关闭session有如下方式：</span></span><br><span class="line"><span class="comment"># 在控制台界面，关闭所有sessions：</span></span><br><span class="line">tmux kill-server</span><br><span class="line"><span class="comment"># 在控制台界面，关闭指定session：</span></span><br><span class="line">tmux kill-session -t &lt;target-session&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;macvim-和-tmux-安装&quot;&gt;&lt;a href=&quot;#macvim-和-tmux-安装&quot; class=&quot;headerlink&quot; title=&quot;macvim 和 tmux 安装&quot;&gt;&lt;/a&gt;macvim 和 tmux 安装&lt;/h1&gt;&lt;h1 id=&quot;配置插件&quot;&gt;&lt;a </summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>uniapp 音乐播放器功能</title>
    <link href="http://yoursite.com/2022/09/25/VUE2-app-%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8%E5%8A%9F%E8%83%BD/"/>
    <id>http://yoursite.com/2022/09/25/VUE2-app-%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8%E5%8A%9F%E8%83%BD/</id>
    <published>2022-09-25T02:10:51.000Z</published>
    <updated>2022-09-28T05:35:11.918Z</updated>
    
    <content type="html"><![CDATA[<h1 id="uniapp-移动端的音乐播放器"><a href="#uniapp-移动端的音乐播放器" class="headerlink" title="uniapp 移动端的音乐播放器"></a>uniapp 移动端的音乐播放器</h1><h2 id="写的原因"><a href="#写的原因" class="headerlink" title="写的原因"></a>写的原因</h2><blockquote><p>这个<code>app</code>从4月份开始，做了一个星期，但中间有3个月没碰，8月末又重新拿了起来，但由于<code>uniapp</code>的多次更新，导致<code>app</code>出了问题，而且本人是刚学的vue2，3个月没碰，有些遗忘，需要重新学习才行，同时这个<code>app</code>遇到的问题有些难以处理。<br>因此我想先整理出我一开始做出来的功能，以便后期如果需要重新开始，则可以把我想要的功能重新添加进去。</p></blockquote><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><p>**<em>要点</em>**：点击播放键可以播放音乐，切换画面后，音乐不会停止，然后在旁边出现一个mini的音乐播放器，可以随时退出。<br>（我并没有使用一些已经写好的player,只要是因为并不符合我所需要的要求，即只需要背景音乐可以停止和继续的功能就行）<br>1、需要做一个<code>mini</code>版的音乐播放器,放在页面的左边，在播放期间可以随时播放和停止。<br>2、由于没有页面和退出也能听到音乐，所以必须使用全局变量。 我使用了<code>vuex</code>来控制这些变量。<br>3、如何把上面两点写进<code>app</code>中。</p><h3 id="1、播放器样式"><a href="#1、播放器样式" class="headerlink" title="1、播放器样式"></a>1、播放器样式</h3><h4 id="注：原本想要找到我之前参考的博客，可以说这个播放器，基本上使用了那名作者的功能，当然为了结合自身app，对他写功能也进行了修改，但时隔3个多月，我已经找不到该网站了，如果该作者看到这个是你写的功能，可以和我邮件联系，我会标注"><a href="#注：原本想要找到我之前参考的博客，可以说这个播放器，基本上使用了那名作者的功能，当然为了结合自身app，对他写功能也进行了修改，但时隔3个多月，我已经找不到该网站了，如果该作者看到这个是你写的功能，可以和我邮件联系，我会标注" class="headerlink" title="(注：原本想要找到我之前参考的博客，可以说这个播放器，基本上使用了那名作者的功能，当然为了结合自身app，对他写功能也进行了修改，但时隔3个多月，我已经找不到该网站了，如果该作者看到这个是你写的功能，可以和我邮件联系，我会标注)"></a>(<strong><em>注：原本想要找到我之前参考的博客，可以说这个播放器，基本上使用了那名作者的功能，当然为了结合自身app，对他写功能也进行了修改，但时隔3个多月，我已经找不到该网站了，如果该作者看到这个是你写的功能，可以和我邮件联系，我会标注</em></strong>)</h4><p>页面的样式我需要做成mini型，放在各个<code>page</code>中，而不是放在最下面，因为我不是<code>音乐app</code>,所以只需要在播放期间可以停止。<br>因此我添加一个<code>component</code>,命名为<code>playermin.vue</code>,并把播放器的样式结构添加进去。</p><blockquote><p>tip<br>由于本人对<code>css</code>只是半吊子桶水的实力，因此这里的结构样式是直接使用了网上的播放器样式，只是对里面的功能进行了删减和添加</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;player-min&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;[!isOpen?&#x27;open&#x27;:&#x27;&#x27;]&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;(isplayactive &amp;&amp; require)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;img&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;[isplayingmusic ? &#x27;&#x27;:&#x27;stoped&#x27;]&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;playdetail.pic&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">@<span class="attr">click</span>=<span class="string">&quot;isOpen=!isOpen&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btns&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isOpen&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">v-if</span>=<span class="string">&quot;!isplayingmusic&quot;</span> <span class="attr">class</span>=<span class="string">&quot;item cuIcon-playfill&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;play&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">v-if</span>=<span class="string">&quot;isplayingmusic&quot;</span> <span class="attr">class</span>=<span class="string">&quot;item cuIcon-stop&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;pause&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;item cuIcon-close&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;close&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;text class=&quot;item cuIcon-repeal&quot; @click=&quot;toPlayPage&quot;&gt;&lt;/text&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//引入在vuex中的全局变量，用来控制播放器，具体变量的用途，看下面vuex中的内容</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="javascript">mapGetters,</span></span><br><span class="line"><span class="javascript">mapMutations</span></span><br><span class="line"><span class="javascript">&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">require</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">type</span>: <span class="built_in">Boolean</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">default</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">//挂载的时候输出传入的参数，用来debug</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="built_in">this</span>.require)</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">isOpen</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">//项目中使用了多模块方式书写vuex</span></span></span><br><span class="line"><span class="javascript"><span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="javascript">...mapGetters(<span class="string">&#x27;vuexMusic&#x27;</span>, [<span class="string">&#x27;isplayingmusic&#x27;</span>, <span class="string">&#x27;playdetail&#x27;</span>, <span class="string">&#x27;isplayactive&#x27;</span>, <span class="string">&#x27;bgAudioManager&#x27;</span>])</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">...mapMutations(<span class="string">&#x27;vuexMusic&#x27;</span>, [<span class="string">&#x27;setIsplayingmusic&#x27;</span>, <span class="string">&#x27;setPlaydetail&#x27;</span>, <span class="string">&#x27;setIsplayactive&#x27;</span>, <span class="string">&#x27;playAudio&#x27;</span>, <span class="string">&#x27;pauseAudio&#x27;</span>, <span class="string">&#x27;stopAudio&#x27;</span>]),</span></span><br><span class="line"><span class="javascript">            <span class="comment">//下面三个方法，对应三个按钮，分别是播放、暂停、关闭mini播放器</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">play</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.playAudio()</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayingmusic(<span class="literal">true</span>)</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">pause</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.pauseAudio();</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayingmusic(<span class="literal">false</span>)</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">close</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">// this.bgAudioManager.stop()</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.stopAudio()</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayingmusic(<span class="literal">false</span>)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//这个是原作者写的打开播放列表，但我这边暂时是不需要的，所以我还没有验证过下面这段功能实际展示的效果</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// toPlayPage() &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// const list = this.audiolist;</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// uni.navigateTo(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// url: &#x27;/pages/palyer/palyer?id=&#x27; + this.playdetail.id + &#x27;&amp;index=&#x27; + &quot;none&quot; + &#x27;&amp;list=&#x27; +</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// encodeURIComponent(JSON.stringify(list))</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 下面的样式是我直接拷贝网上别人写的，本人对scss不是很熟 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.player-min</span> &#123;</span></span><br><span class="line"><span class="css">// <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="css"><span class="attribute">bottom</span>: <span class="number">40%</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">z-index</span>: <span class="number">1002</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css"><span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css"><span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.7</span>);</span></span><br><span class="line"><span class="css"><span class="attribute">border-radius</span>: <span class="number">50</span>rpx <span class="number">15</span>rpx <span class="number">15</span>rpx <span class="number">50</span>rpx;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">&amp;<span class="selector-class">.open</span> &#123;</span></span><br><span class="line"><span class="css">// <span class="attribute">border-radius</span>: <span class="number">45</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.img</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">width</span>: <span class="number">100</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">height</span>: <span class="number">100</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">&amp;<span class="selector-class">.stoped</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">animation-play-state</span>: paused;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="attribute">animation</span>: rotate <span class="number">10s</span> linear .<span class="number">1s</span> infinite;</span></span><br><span class="line"><span class="css">// <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20</span>rpx;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.btns</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">height</span>: <span class="number">100</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">line-height</span>: <span class="number">100</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">48</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">color</span>: <span class="number">#F0F0F0</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">transition</span>: width <span class="number">2.5s</span> linear;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">margin</span>: <span class="number">0</span> <span class="number">6</span>rpx;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.cuIcon-playfill</span> &#123;</span></span><br><span class="line"><span class="css">// <span class="attribute">margin-left</span>: <span class="number">12</span>rpx;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> rotate &#123;</span></span><br><span class="line"><span class="css"><span class="number">0%</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="number">100%</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="VUEX"><a href="#VUEX" class="headerlink" title="VUEX"></a>VUEX</h2><p><code>vuex</code>的部分，我使用了多模块的方式。<br>在<code>store</code>中，添加一个文件夹<code>modules</code>, 在里面添加<code>music.js</code>,然后<code>store/index.js</code>中添加引用<br>** <code>index.js</code>**</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> vuexMusic <span class="keyword">from</span> <span class="string">&#x27;@/store/modules/music.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line"><span class="attr">modules</span>: &#123;</span><br><span class="line">vuexMusic</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">strict</span>: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>** <code>music.js</code>**</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//公共变量</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line"><span class="comment">//是否正在播放 (默认false)</span></span><br><span class="line"><span class="attr">isplayingmusic</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="comment">//是否打开mini播放器 (默认false)</span></span><br><span class="line"><span class="attr">isplayactive</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="comment">//当前播放的歌曲</span></span><br><span class="line"><span class="attr">playdetail</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line"><span class="comment">//播放歌曲列表</span></span><br><span class="line"><span class="attr">audiolist</span>: [],</span><br><span class="line"><span class="comment">//播放器 （在mutations中进行初始化）</span></span><br><span class="line"><span class="attr">bgAudioManager</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line"><span class="comment">//定时时间,用于背景音频播放进度更新事件目前没用）</span></span><br><span class="line"><span class="attr">timer</span>: <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//获取变量</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line"><span class="function"><span class="title">isplayingmusic</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> state.isplayingmusic</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">isplayactive</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> state.isplayactive</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">playdetail</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> state.playdetail;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">audiolist</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> state.audiolist</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">bgAudioManager</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> state.bgAudioManager</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">timer</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> state.timer</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//mutation 直接修改state中的属性</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line"><span class="function"><span class="title">setIsplayingmusic</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line">state.isplayingmusic = param</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">setIsplayactive</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line">state.isplayactive = param</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">setPlaydetail</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line">state.playdetail = param</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">setAudiolist</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line">state.audiolist = param</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//播放器初始化</span></span><br><span class="line"><span class="function"><span class="title">setInitBgAudioManager</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line"><span class="comment">//音乐播放器</span></span><br><span class="line"><span class="keyword">let</span> audioPlayer = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// #ifdef H5</span></span><br><span class="line">audioPlayer = uni.createInnerAudioContext() <span class="comment">//H5 则注册一个音乐组件</span></span><br><span class="line"><span class="comment">// #endif</span></span><br><span class="line"><span class="comment">// #ifdef APP-PLUS</span></span><br><span class="line">audioPlayer = uni.getBackgroundAudioManager() <span class="comment">//app,则注册一个背景音乐组件，当切后台后仍会播放音乐</span></span><br><span class="line"><span class="comment">// #endif</span></span><br><span class="line">state.bgAudioManager = audioPlayer</span><br><span class="line">state.bgAudioManager.onPlay(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;playing&#x27;</span>)</span><br><span class="line">Vue.prototype.cusPlay &amp;&amp; Vue.prototype.cusPlay()</span><br><span class="line"><span class="built_in">clearInterval</span>(state.timer)</span><br><span class="line"><span class="built_in">console</span>.log(Vue.$store)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line"><span class="built_in">this</span>.commit(<span class="string">&#x27;vuexMusic/setTimer&#x27;</span>, param)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// Vue.prototype.$bgAudioManager.onTimeUpdate(()=&gt;&#123;</span></span><br><span class="line"><span class="comment">// console.log(&#x27;update&#x27;)</span></span><br><span class="line"><span class="comment">// Vue.prototype.cusTimeUpdate &amp;&amp; Vue.prototype.cusTimeUpdate()</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line">state.bgAudioManager.onEnded(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">Vue.prototype.cusEnded &amp;&amp; Vue.prototype.cusEnded()</span><br><span class="line"><span class="built_in">clearInterval</span>(state.timer)</span><br><span class="line">&#125;)</span><br><span class="line">state.bgAudioManager.onError(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;play err:&#x27;</span> + err)</span><br><span class="line"><span class="built_in">this</span>.commit(<span class="string">&#x27;vuexMusic/setIsplayactive&#x27;</span>, <span class="literal">false</span>)</span><br><span class="line"><span class="built_in">clearInterval</span>(state.timer)</span><br><span class="line">&#125;)</span><br><span class="line">state.bgAudioManager.onStop(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;play stop:&#x27;</span> + res)</span><br><span class="line"><span class="built_in">this</span>.commit(<span class="string">&#x27;vuexMusic/setIsplayactive&#x27;</span>, <span class="literal">false</span>)</span><br><span class="line"><span class="built_in">clearInterval</span>(state.timer)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//播放器歌曲相关参数赋值</span></span><br><span class="line"><span class="function"><span class="title">setBgAudioManager</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line">state.bgAudioManager.url = param.song;</span><br><span class="line">state.bgAudioManager.title = param.song_name;</span><br><span class="line">state.bgAudioManager.coverImgUrl = param.song_cover;</span><br><span class="line">state.bgAudioManager.singer = param.singer;</span><br><span class="line"><span class="comment">//h5</span></span><br><span class="line">state.bgAudioManager.autoplay = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">//app</span></span><br><span class="line">state.bgAudioManager.src = param.song;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">setTimer</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line">state.timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123; <span class="comment">//安卓和ios app 下onTimeUpdate事件在替换资源和seek之后不会触发，这里做手动触发</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;update&#x27;</span>)</span><br><span class="line">Vue.prototype.cusTimeUpdate()</span><br><span class="line">&#125;, <span class="number">200</span>)</span><br><span class="line">&#125;,</span><br><span class="line">    <span class="comment">//播放歌曲</span></span><br><span class="line"><span class="function"><span class="title">playAudio</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line"><span class="keyword">let</span> playPromise = state.bgAudioManager.play()</span><br><span class="line">        <span class="comment">//如果没有存在，则播放</span></span><br><span class="line"><span class="keyword">if</span> (playPromise !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">playPromise.then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">state.bgAudioManager.play()</span><br><span class="line">&#125;).catch(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// state.bgAudioManager.play()</span></span><br><span class="line">&#125;,</span><br><span class="line">    <span class="comment">//暂停歌曲</span></span><br><span class="line"><span class="function"><span class="title">pauseAudio</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line">state.bgAudioManager.pause()</span><br><span class="line">&#125;,</span><br><span class="line">    <span class="comment">//关闭歌曲</span></span><br><span class="line"><span class="function"><span class="title">stopAudio</span>(<span class="params">state, param</span>)</span> &#123;</span><br><span class="line">state.bgAudioManager.stop()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line"><span class="function"><span class="title">isplayingmusicAction</span>(<span class="params">context, param</span>)</span> &#123;</span><br><span class="line"><span class="comment">//调用mutations中的方法，来修改state中的</span></span><br><span class="line">context.commit(<span class="string">&#x27;setIsplayingmusic&#x27;</span>, param)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line"><span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">state,</span><br><span class="line">mutations,</span><br><span class="line">getters,</span><br><span class="line">actions</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="在项目中使用该功能"><a href="#在项目中使用该功能" class="headerlink" title="在项目中使用该功能"></a>在项目中使用该功能</h2><p>页面注册，pages.json,App.vue,music-list<br>** <code>App.vue</code> ** </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    mapMutations,</span><br><span class="line">    mapGetters</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">onLaunch</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//音乐播放器 注册事件函数写在vuex中</span></span><br><span class="line">        <span class="built_in">this</span>.setInitBgAudioManager()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        ...mapMutations(<span class="string">&#x27;vuexMusic&#x27;</span>, [<span class="string">&#x27;setInitBgAudioManager&#x27;</span>])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong><code>music-detail.vue</code></strong> 这个文件是音乐列表文件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">cu-custom</span> <span class="attr">:isBack</span>=<span class="string">&quot;true&quot;</span> <span class="attr">bgColor</span>=<span class="string">&quot;bg-gradual-pink shadow-blur&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">slot</span>=<span class="string">&quot;content&quot;</span>&gt;</span>作品<span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">cu-custom</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">scroll-y</span>=<span class="string">&quot;true&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-content&quot;</span> @<span class="attr">scroll</span>=<span class="string">&quot;scrollpage&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;top:customBar*2+&#x27;rpx&#x27;&#125;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uni-card</span> <span class="attr">:is-shadow</span>=<span class="string">&quot;false&quot;</span> <span class="attr">is-full</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;album-top&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;album-con&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;flex-box&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;flex-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;img-info&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&quot;img&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;bgimg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;flex-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;album-bot flex-box&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;flex-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;txt&quot;</span>&gt;</span>&#123;&#123; albumMsg.album &#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;flex-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">uni-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uni-section</span> <span class="attr">overflow</span> <span class="attr">title</span>=<span class="string">&quot;歌曲&quot;</span> <span class="attr">type</span>=<span class="string">&quot;line&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;uni-card &gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mu-list</span> <span class="attr">:list</span>=<span class="string">&quot;targetMuList&quot;</span> <span class="attr">:isNav</span>=<span class="string">&quot;false&quot;</span> <span class="attr">:cover</span>=<span class="string">&quot;bgimg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mu-list</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;/uni-card&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">uni-section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">// 防抖</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, wait = <span class="number">10</span></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> timeout = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (timeout !== <span class="literal">null</span>) <span class="built_in">clearTimeout</span>(timeout);</span></span><br><span class="line"><span class="javascript">timeout = <span class="built_in">setTimeout</span>(fn, wait);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> that = <span class="literal">null</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> muList <span class="keyword">from</span> <span class="string">&#x27;@/components/musiclist.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="javascript">mapGetters,</span></span><br><span class="line"><span class="javascript">mapMutations</span></span><br><span class="line"><span class="javascript">&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> db = uniCloud.database()</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">//专辑信息</span></span></span><br><span class="line"><span class="javascript"><span class="attr">albumMsg</span>: [],</span></span><br><span class="line"><span class="javascript"><span class="comment">//专辑封面</span></span></span><br><span class="line"><span class="javascript"><span class="attr">bgimg</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">playList</span>: [],</span></span><br><span class="line"><span class="javascript"><span class="attr">scrollTop</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">scrollY</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">targetMuList</span>: &#123;&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">lyric</span>: []</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">muList</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="javascript">...mapGetters(<span class="string">&#x27;vuexMusic&#x27;</span>, [<span class="string">&#x27;audiolist&#x27;</span>, <span class="string">&#x27;playdetail&#x27;</span>, <span class="string">&#x27;bgAudioManager&#x27;</span>]),</span></span><br><span class="line"><span class="javascript"><span class="comment">//歌曲列表，通过专辑信息，实时计算出来</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">targetMuLis</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (!<span class="built_in">this</span>.albumMsg.album) <span class="keyword">return</span> [];</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> par = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">album_id</span>: <span class="built_in">this</span>.albumMsg._id</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> t = <span class="built_in">this</span>.album.tracks.slice(<span class="number">0</span>, <span class="number">25</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> t.map(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">id</span>: val.id,</span></span><br><span class="line"><span class="javascript"><span class="attr">name</span>: val.name,</span></span><br><span class="line"><span class="javascript"><span class="attr">picUrl</span>: val.al.picUrl,</span></span><br><span class="line"><span class="javascript"><span class="attr">n1</span>: val.ar[<span class="number">0</span>].name,</span></span><br><span class="line"><span class="javascript"><span class="attr">n2</span>: val.al.name</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">customBar</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> <span class="built_in">this</span>.CustomBar</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">that = <span class="built_in">this</span></span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">onLoad</span>(<span class="params">options</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">//页面加载的时候，进行数据加载</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.getData(options.item);</span></span><br><span class="line"><span class="javascript"><span class="comment">//初始化播放器参数</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.initPlay()</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">...mapMutations(<span class="string">&#x27;vuexMusic&#x27;</span>, [<span class="string">&#x27;setPlaydetail&#x27;</span>, <span class="string">&#x27;setIsplayingmusic&#x27;</span>, <span class="string">&#x27;setIsplayactive&#x27;</span>, <span class="string">&#x27;setBgAudioManager&#x27;</span>]),</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">getData</span>(<span class="params">id</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> par = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">_id</span>: id</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">db.collection(<span class="string">&#x27;music-album&#x27;</span>)</span></span><br><span class="line"><span class="javascript">.where(par).get()</span></span><br><span class="line"><span class="javascript">.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;music-album&quot;</span>, res.result.data[<span class="number">0</span>])</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.albumMsg = res.result.data[<span class="number">0</span>]</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.bgimg = <span class="built_in">this</span>.albumMsg.album_cover</span></span><br><span class="line"><span class="javascript">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(err)</span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript">par = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">album_id</span>: id</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript">db.collection(<span class="string">&#x27;music-list&#x27;</span>)</span></span><br><span class="line"><span class="javascript">.where(par)</span></span><br><span class="line"><span class="javascript">.get()</span></span><br><span class="line"><span class="javascript">.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;music-list&quot;</span>, res.result.data)</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.targetMuList = res.result.data</span></span><br><span class="line"><span class="javascript"><span class="comment">// this.setAudiolist(this.targetMuList)</span></span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript">.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;music-list&quot;</span>, err)</span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">scrollpage</span>(<span class="params">e</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.scrollY = e.detail.scrollTop</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.scroll()</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="comment">// 设置背景条</span></span></span><br><span class="line"><span class="javascript"><span class="attr">scroll</span>: debounce(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (that.scrollY &lt; <span class="number">5</span>) &#123;</span></span><br><span class="line"><span class="javascript">that.scrollTop = <span class="number">20</span></span></span><br><span class="line"><span class="javascript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (that.scrollY &lt; <span class="number">300</span>) &#123;</span></span><br><span class="line"><span class="javascript">that.scrollTop = -<span class="built_in">parseInt</span>(that.scrollY) + <span class="number">20</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;),</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">goBack</span>(<span class="params"></span>)</span> &#123; <span class="comment">// 返回上一页</span></span></span><br><span class="line"><span class="javascript">uni.navigateBack();</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">initPlay</span>(<span class="params">id, index</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">// if (index) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// this.curPlayIndex = index</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">Vue.prototype.cusPlay = <span class="built_in">this</span>.onPlayFn</span></span><br><span class="line"><span class="javascript">Vue.prototype.cusTimeUpdate = <span class="built_in">this</span>.onTimeUpdateFn</span></span><br><span class="line"><span class="javascript">Vue.prototype.cusEnded = <span class="built_in">this</span>.onEndedFn</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">playNextOrPrevSong</span>(<span class="params">id</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&#x27;#playNextOrPrevSong 歌曲ID：&#x27;</span>, id)</span></span><br><span class="line"><span class="javascript"><span class="comment">//for循环对比，获取当前的</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.audiolist.length; i++) &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> item = <span class="built_in">this</span>.audiolist[i]</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (id == item._id) &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setBgAudioManager(item)</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setPlaydetail(&#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">id</span>: item._id,</span></span><br><span class="line"><span class="javascript"><span class="attr">pic</span>: item.song_cover</span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript"><span class="keyword">break</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">onPlayFn</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;#onPlayFn&quot;</span>)</span></span><br><span class="line"><span class="javascript"><span class="comment">// this.playTime = this.song.time;</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// this.isPlay = true</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayingmusic(<span class="literal">true</span>)</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayactive(<span class="literal">true</span>)</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&#x27;onplaying&#x27;</span>)</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">onTimeUpdateFn</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">// console.log(&quot;#onTimeUpdateFn&quot;, this.$bgAudioManager.currentTime)</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> curtime = <span class="built_in">this</span>.bgAudioManager.currentTime</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.curPlayTime = <span class="built_in">Math</span>.floor(curtime);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">onEndedFn</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&#x27;ended&#x27;</span>)</span></span><br><span class="line"><span class="javascript"><span class="comment">// this.isPlay = false;</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayingmusic(<span class="literal">false</span>)</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayactive(<span class="literal">false</span>)</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.next(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">next</span>(<span class="params">isAuto</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> index = <span class="built_in">this</span>.getIndex(<span class="string">&#x27;next&#x27;</span>, isAuto)</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(index)</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="built_in">this</span>.audiolist)</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="built_in">this</span>.audiolist[index])</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.playNextOrPrevSong(<span class="built_in">this</span>.audiolist[index]._id)</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">getIndex</span>(<span class="params">type, isAuto</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">//[&#x27;0列表循环&#x27;, &#x27;1随机播放&#x27;, &#x27;2单曲循环&#x27;]</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> next = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> prev = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="comment">//获取当前播放列表</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> last = <span class="built_in">this</span>.audiolist.length - <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> cur = <span class="number">0</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//获取当前正在播放的歌曲</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.playdetail</span></span><br><span class="line"><span class="javascript"><span class="comment">//for循环对比，获取当前的</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.audiolist.length; i++) &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> audioCur = <span class="built_in">this</span>.audiolist[i]</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (<span class="built_in">this</span>.playdetail.id == audioCur._id) &#123;</span></span><br><span class="line"><span class="javascript">cur = i</span></span><br><span class="line"><span class="javascript"><span class="keyword">break</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">next = cur == last ? <span class="number">0</span> : cur + <span class="number">1</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//判断是上一首还是下一首</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> type == <span class="string">&#x27;next&#x27;</span> ? next : prev</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">$bgheight: 520rpx;</span><br><span class="line">$bgtop: -44px;</span><br><span class="line"></span><br><span class="line">.container &#123;</span><br><span class="line">overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.nav-bar &#123;</span><br><span class="line">position: relative;</span><br><span class="line">background-position: 0 0px;</span><br><span class="line">background-repeat: no-repeat;</span><br><span class="line">background-size: cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.bg &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">top: 0;</span><br><span class="line">left: 0;</span><br><span class="line">height: 100%;</span><br><span class="line">width: 100%;</span><br><span class="line">filter: blur(35px);</span><br><span class="line">background-position: 0 0px;</span><br><span class="line">background-repeat: no-repeat;</span><br><span class="line">background-size: cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.bg1 &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">top: 0;</span><br><span class="line">left: 0;</span><br><span class="line">height: 100%;</span><br><span class="line">width: 100%;</span><br><span class="line">background: rgba(0, 0, 0, 0.2);</span><br><span class="line">z-index: 2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.page-content &#123;</span><br><span class="line">position: fixed;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.album-top &#123;</span><br><span class="line">position: relative;</span><br><span class="line">top: $bgtop;</span><br><span class="line">height: $bgheight;</span><br><span class="line">padding-top: 44px;</span><br><span class="line">overflow: hidden;</span><br><span class="line">background: #fff;</span><br><span class="line"></span><br><span class="line">.bg &#123;</span><br><span class="line">background-size: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.album-con &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">width: 100%;</span><br><span class="line">padding: 46rpx 24rpx 0 30rpx;</span><br><span class="line">// padding: 46rpx 0 0 0 ;</span><br><span class="line">z-index: 10;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.album-bot &#123;</span><br><span class="line">padding-top: 42rpx;</span><br><span class="line">// color: #fff;</span><br><span class="line">text-align: center;</span><br><span class="line"></span><br><span class="line">.iconfont &#123;</span><br><span class="line">font-size: 44rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.txt &#123;</span><br><span class="line">font-size: x-large;</span><br><span class="line">color: #252621;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.img-info &#123;</span><br><span class="line">position: relative;</span><br><span class="line">// width: 390rpx;</span><br><span class="line">width: 280rpx;</span><br><span class="line">height: 280rpx;</span><br><span class="line">// margin-right: 40rpx;</span><br><span class="line">border-radius: 10rpx;</span><br><span class="line">overflow: hidden;</span><br><span class="line">margin: 0, auto;</span><br><span class="line"></span><br><span class="line">// background-image: url(&#x27;@/static/music/vinyl_03.png&#x27;);</span><br><span class="line">// background-size: cover;</span><br><span class="line">// background-repeat: no-repeat;</span><br><span class="line">&amp;:before &#123;</span><br><span class="line">content: &#x27; &#x27;;</span><br><span class="line">position: absolute;</span><br><span class="line">left: 0;</span><br><span class="line">top: 0;</span><br><span class="line">width: 100%;</span><br><span class="line">height: 40rpx;</span><br><span class="line">z-index: 2;</span><br><span class="line">background-image: linear-gradient(180deg, rgba(0, 0, 0, 0.2), transparent);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.img &#123;</span><br><span class="line">width: 280rpx;</span><br><span class="line">height: 280rpx;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.count &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">top: 0;</span><br><span class="line">right: 0;</span><br><span class="line">padding-left: 25rpx;</span><br><span class="line">line-height: 34rpx;</span><br><span class="line">color: #fff;</span><br><span class="line">font-size: 24rpx;</span><br><span class="line">z-index: 10;</span><br><span class="line">background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAqFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8j1z1tAAAAN3RSTlMA9wcC+/3w4A/RoQv0m4s6IBkU7eeRK73kxaZtW+rc1cmxe3UmwbiWQNmqgWZUzUY1ME4dhmGuJ2Z0kQAABVtJREFUeNrtnYtWGkEQRFsEeSmgII8EVBASUFHx1f//ZwmJRwaZYhndjdU5c//gQp8DVTvTK5FIJBKJRCKRSCQSiUQikcj/yWI6vRfzNEYz/U23NhbLlF70jZ7hr+W+pQ6FoxOxyXhP12neiEVyZd3gdiH2uFYfP0tijP2mehk8iy3miui1xRLfFHNaFTv0dAutvpihq1uZmPmp1yRqRuZLVxyol+5cLOB+9nMwZ52G8OOKSLWWVx97TzlhZ01EZDxRL8UHIcf92ZAl/ZZ6+UE+XxsiUjoF8zWinq9NEZH2BZivO+HFJyLyPFAvL4/Cil9ESkcF9XFIO19ARGRRVi9ndaHEDVPvksp38FP/7VgIQSJLTirq5fByX+jAIkvq5+rlnG++tovI/uWheqmwlUZAZMXxlXo5+M41X0DEZXqmXspUpaSuOBJAbrTq8GhLSSzi8jjUv/CWkusimLui/oa4lNxVRHLXYL5ISkmPCKLRYS4lPSIYFOovCEpJXVGRJGCoz59++XwBEci4R1pKIhFMv0VZegeL4FCfDyklGUSWoZ6vlAQiSTw32UpJN/lJMm6o5yolkUgy92WqUjJcxA31RKXkJ0RwqN+7TpwvLpFlqGcpJYNEQkL9MOtSEotcSRIo1DOU3kEigaH+bCoQShEY6vUKlpKcIjDU41IyS5EXSSY81M/q4oNXBIR6VHoTi4BQD0pJahEQ6kHpnZ3IUAIIDPWF96U3u8hGqEelJL/IWqjHpaQFERjqC0er0siECAj12c6Xm4ckRW6a20tJMyKvoR6WknZEcKgf9EXEkggO9b22LREY6pelpC0RHOq7fWMiONRPxlmJdCQLcKjPP1VtieBQX5wbE8GhvtOwJbIM9bCUtCWCQ33xzpgIDvWVXLoiE8macQck4YYxERjqy/vWRFCofzInItKeqIdxiiI9yRwc6msWRXyhfmBSxBfqFzZFNkP9g1UROVkP9TfpiVzIv6VRVodLqyLv/7D0jYps/IW8Nyni+VNfNSjii1kVSU/kVjIHB9+6ORF/FTEUYyKgHBqUjIlMZ+rjcCppipQlY47BOoNyQ0yJoEq7JmJJpH4Om1NLIieVAjzAbUgEPSjJn1YlA5FzyYj7Mn6eaEhkmTvQtRNLIjdNeBHIksjiFp+CyExkJmlT+lmA5wYsiTwP8PVFQyLti20XSs2IVE/zGZ+mwyJnkh79VsKlaxsi40niiUALIug44IF7BtiAyLyb7anZZJGipECjs9s5ZnKR3NPejifLuUUeimDBzeZUMYs0fgQ8SOcVAU/R0X2YLEW66ZXSyTfgSEUeh19+JxGIhJbSX39L1G00PlxKM9zbBSIhpTTHTWogElBKk9xt/5xIfUazAtXtZ8JLaaL9D64IX334L0Tq51w7LNySJqyUJttaA0QSp4pujxAWCS+lb9vydbiZeudSmnHXVrDITZNz+1mgyOKWdR8dEIGlNO2GwBCR5wHxzka36kgopXvUWzRdEapSOiORfot906ybTINL6RnHVHlEUCltYFtussi8++WrQtIQaXQIlreEinhLaYZ1OoEi+Z1L6R+EW9ehCC6lzyjfs4BElqU0zRKwQJHCeinNUB9+VgSX0rxvh/GJ5EagPnwifl+POryV0jT14WdEjq+I6sMPilCV0p8R2Zf6jKs+/KAIKqUH5FO1IXKght+NqCt4F3fvwtu3QL+qP4GybqFwZGKq/jBUTJnldQO78F1VbbxgJIHSHpgqivowhIp/qoiKnh05aZqfqlceiOvDMC51jRlb0bM79RZrfRhKqXb46lExOlVv5O5G19ejB/bQEYlEIpFIJBLJkF8r2nFUwcJuMQAAAABJRU5ErkJggg==) no-repeat;</span><br><span class="line">background-size: 25rpx 25rpx;</span><br><span class="line">transform: scale(0.8);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.info-con &#123;</span><br><span class="line">.title &#123;</span><br><span class="line">margin-bottom: 14rpx;</span><br><span class="line">// color: #fff;</span><br><span class="line">line-height: 46rpx;</span><br><span class="line">font-weight: 600;</span><br><span class="line">height: auto;</span><br><span class="line">/*高度自动*/</span><br><span class="line">display: inline-block;</span><br><span class="line">/*转为行内块元素*/</span><br><span class="line">white-space: pre-wrap;</span><br><span class="line">/*处理元素内的空白,保留空白符序列，但是正常地进行换行*/</span><br><span class="line">word-wrap: break-word;</span><br><span class="line">/*允许长单词或 URL 地址换行到下一行,在长单词或 URL 地址内部进行换行*/</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.avator-box &#123;</span><br><span class="line">margin-bottom: 26rpx;</span><br><span class="line">align-items: center;</span><br><span class="line">color: #ccc0ba;</span><br><span class="line">font-size: 25rpx;</span><br><span class="line"></span><br><span class="line">.avator &#123;</span><br><span class="line">width: 60rpx;</span><br><span class="line">height: 60rpx;</span><br><span class="line">margin-right: 12rpx;</span><br><span class="line">border-radius: 60rpx;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.desc-box &#123;</span><br><span class="line">align-items: center;</span><br><span class="line">line-height: 40rpx;</span><br><span class="line">color: #ccc0ba;</span><br><span class="line">font-size: 23rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.album-list &#123;</span><br><span class="line">position: relative;</span><br><span class="line">top: - 84px;</span><br><span class="line">background: #fff;</span><br><span class="line">border-radius: 36rpx 36rpx 0 0;</span><br><span class="line">z-index: 100;</span><br><span class="line"></span><br><span class="line">.title-bar &#123;</span><br><span class="line">padding: 10rpx;</span><br><span class="line">justify-content: space-between;</span><br><span class="line"></span><br><span class="line">.iconfont &#123;</span><br><span class="line">margin-left: 16rpx;</span><br><span class="line">margin-right: 16rpx;</span><br><span class="line">font-size: 40rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.play &#123;</span><br><span class="line">line-height: 80rpx;</span><br><span class="line">color: #252621;</span><br><span class="line">font-weight: 600;</span><br><span class="line">font-size: 32rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.collect &#123;</span><br><span class="line">width: 228rpx;</span><br><span class="line">height: 80rpx;</span><br><span class="line">text-align: center;</span><br><span class="line">line-height: 80rpx;</span><br><span class="line">border-radius: 80rpx;</span><br><span class="line">color: #fff;</span><br><span class="line">background: #fb2b21;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.item &#123;</span><br><span class="line">align-items: center;</span><br><span class="line">height: 120rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.con &#123;</span><br><span class="line">padding-right: 40rpx;</span><br><span class="line">align-items: center;</span><br><span class="line">justify-content: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.num &#123;</span><br><span class="line">width: 84rpx;</span><br><span class="line">text-align: center;</span><br><span class="line">line-height: 120rpx;</span><br><span class="line">color: #999;</span><br><span class="line">font-size: 24rpx;</span><br><span class="line"></span><br><span class="line">&amp;.on &#123;</span><br><span class="line">color: #ff3a3a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tit &#123;</span><br><span class="line">margin-right: 20rpx;</span><br><span class="line">color: #333;</span><br><span class="line">line-height: 48rpx;</span><br><span class="line">font-size: 32rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.count &#123;</span><br><span class="line">margin-right: 20rpx;</span><br><span class="line">color: #ccc;</span><br><span class="line">line-height: 48rpx;</span><br><span class="line">font-size: 24rpx;</span><br><span class="line">transform: scale(0.84);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.icon &#123;</span><br><span class="line">width: 56rpx;</span><br><span class="line">height: 20rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.desc &#123;</span><br><span class="line">// color: #999;</span><br><span class="line">color: #999999;</span><br><span class="line">font-size: 24rpx;</span><br><span class="line">line-height: 40rpx;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong><code>musiclist.vue</code></strong> 这个文件是个组件，用在<code>music-detail.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;mulist&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;isNav&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;l&quot;</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;r&quot;</span>&gt;</span>&#123;&#123;more&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(val,index) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;flex-item index-item&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 60rpx;&quot;</span>&gt;</span></span><br><span class="line">&#123;&#123;index+1&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;text ellipsis flex-box&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;name ellipsis&quot;</span>&gt;</span>&#123;&#123;val.song_name&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;play-btn flex-item&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;play(index, val)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">v-if</span>=<span class="string">&quot;(playdetail.id==val._id &amp;&amp; isplayingmusic==true)&quot;</span> <span class="attr">class</span>=<span class="string">&quot;iconfont&quot;</span>&gt;</span><span class="symbol">&amp;#xe76a;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;iconfont&quot;</span>&gt;</span><span class="symbol">&amp;#xe638;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="javascript">mapGetters,</span></span><br><span class="line"><span class="javascript">mapMutations</span></span><br><span class="line"><span class="javascript">&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> update = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">// isPlay: false,</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">type</span>: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">default</span>: <span class="string">&#x27;歌曲推荐&#x27;</span></span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">more</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">type</span>: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">default</span>: <span class="string">&#x27;更多推荐&#x27;</span></span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">list</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">// type:Array,</span></span></span><br><span class="line"><span class="javascript"><span class="attr">default</span>: []</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">isNav</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">type</span>: <span class="built_in">Boolean</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">default</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">cover</span>: &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">type</span>: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="javascript">...mapGetters(<span class="string">&#x27;vuexMusic&#x27;</span>, [<span class="string">&#x27;audiolist&#x27;</span>, <span class="string">&#x27;playdetail&#x27;</span>, <span class="string">&#x27;isplayingmusic&#x27;</span>, <span class="string">&#x27;bgAudioManager&#x27;</span>])</span></span><br><span class="line"><span class="javascript">&#125;,</span></span><br><span class="line"><span class="javascript"><span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">...mapMutations(<span class="string">&#x27;vuexMusic&#x27;</span>, [<span class="string">&#x27;setAudiolist&#x27;</span>, <span class="string">&#x27;setPlaydetail&#x27;</span>, <span class="string">&#x27;setIsplayingmusic&#x27;</span>, <span class="string">&#x27;setIsplayactive&#x27;</span>, <span class="string">&#x27;setBgAudioManager&#x27;</span>, <span class="string">&#x27;playAudio&#x27;</span>, <span class="string">&#x27;pauseAudio&#x27;</span>]),</span></span><br><span class="line"><span class="javascript"><span class="comment">// toPlayer(ele) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// uni.navigateTo(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// animationDuration:500,</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// animationType:&#x27;fade-in&#x27;,</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// url: &#x27;/pages/music/music-detail/palyer?id=&#x27; + ele.id + &#x27;&amp;index=&#x27; + ele.index + &#x27;&amp;list=&#x27; +</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// encodeURIComponent(JSON.stringify(ele.list))</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">play</span>(<span class="params">index, item</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&quot;#musicList-play&quot;</span>, item)</span></span><br><span class="line"><span class="javascript"><span class="comment">//添加当前音乐列表</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setAudiolist(<span class="built_in">this</span>.list)</span></span><br><span class="line"><span class="javascript"><span class="comment">//如果不是同一首歌，则重置</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (<span class="built_in">this</span>.bgAudioManager.src !== item.song) &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setBgAudioManager(item)</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setPlaydetail(&#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">id</span>: item._id,</span></span><br><span class="line"><span class="javascript"><span class="attr">pic</span>: item.song_cover</span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayingmusic(<span class="literal">false</span>)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (<span class="built_in">this</span>.isplayingmusic) &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.pauseAudio()</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayingmusic(<span class="literal">false</span>)</span></span><br><span class="line"><span class="javascript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.playAudio()</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setIsplayingmusic(<span class="literal">true</span>)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="comment">// this.isPlay = !this.isPlay;</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.mulist</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">padding</span>: <span class="number">0</span> <span class="number">30</span>rpx;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.nav</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">height</span>: <span class="number">110</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">34</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css"><span class="attribute">padding</span>: <span class="number">30</span>rpx <span class="number">0</span>;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.l</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">font-weight</span>: <span class="number">600</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.r</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">flex-shrink</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">padding</span>: <span class="number">0</span>rpx <span class="number">25</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">height</span>: <span class="number">50</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">line-height</span>: <span class="number">50</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">border</span>: <span class="number">2</span>rpx solid <span class="number">#e6e6e6</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">border-radius</span>: <span class="number">50</span>rpx;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css"><span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css"><span class="attribute">margin-bottom</span>: <span class="number">15</span>rpx;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.img</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">height</span>: <span class="number">100</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">width</span>: <span class="number">100</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">border-radius</span>: <span class="number">18</span>rpx;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.index-item</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">34</span>rpx;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.text</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">margin-left</span>: <span class="number">20</span>rpx;</span></span><br><span class="line"><span class="css">;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">text &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.name</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.ar</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.point</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">40</span>rpx;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.item-icon</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">margin</span>: <span class="number">0</span> <span class="number">6</span>rpx;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.cuIcon-right</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">margin</span>: <span class="number">10</span>rpx <span class="number">6</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">34</span>rpx;</span></span><br><span class="line"><span class="css">// <span class="attribute">color</span>: <span class="number">#E7EBED</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">width</span>: <span class="number">68</span>rpx;</span></span><br><span class="line"><span class="css">// <span class="attribute">height</span>: <span class="number">80</span>rpx;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.play-btn</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css"><span class="attribute">margin</span>: <span class="number">10</span>rpx <span class="number">6</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">34</span>rpx;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">// <span class="attribute">width</span>: <span class="number">0</span>rpx;</span></span><br><span class="line"><span class="css"><span class="selector-class">.iconfont</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">font-size</span>: <span class="number">10</span>rpx;</span></span><br><span class="line"><span class="css">// <span class="attribute">width</span>: <span class="number">68</span>rpx;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">&amp;<span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line"><span class="css"><span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css"><span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css"><span class="attribute">top</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">left</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">border</span>: <span class="number">2</span>rpx solid <span class="number">#000000</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">width</span>: <span class="number">40</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">height</span>: <span class="number">40</span>rpx;</span></span><br><span class="line"><span class="css"><span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>由于想要在每个页面中使用，所以我把<code>mini播放器</code>放在了页面最上方<code>导航栏</code>组件中<br><strong><code>cu-custom.vue</code></strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 里面内容就不显示了，就把需要引用的列出来--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">playerMin</span> <span class="attr">:require</span>=<span class="string">&quot;re&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">playerMin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> playerMin <span class="keyword">from</span> <span class="string">&#x27;@/components/playermin.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">playerMin</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;uniapp-移动端的音乐播放器&quot;&gt;&lt;a href=&quot;#uniapp-移动端的音乐播放器&quot; class=&quot;headerlink&quot; title=&quot;uniapp 移动端的音乐播放器&quot;&gt;&lt;/a&gt;uniapp 移动端的音乐播放器&lt;/h1&gt;&lt;h2 id=&quot;写的原因&quot;&gt;&lt;a </summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>开发中防止忘记的功能和bug点</title>
    <link href="http://yoursite.com/2022/09/11/%E5%BC%80%E5%8F%91%E4%B8%AD%E9%98%B2%E6%AD%A2%E5%BF%98%E8%AE%B0%E7%9A%84%E5%8A%9F%E8%83%BD%E5%92%8Cbug%E7%82%B9/"/>
    <id>http://yoursite.com/2022/09/11/%E5%BC%80%E5%8F%91%E4%B8%AD%E9%98%B2%E6%AD%A2%E5%BF%98%E8%AE%B0%E7%9A%84%E5%8A%9F%E8%83%BD%E5%92%8Cbug%E7%82%B9/</id>
    <published>2022-09-11T12:35:20.000Z</published>
    <updated>2022-10-11T01:41:18.823Z</updated>
    
    <content type="html"><![CDATA[<p>1.需要文章免登录查看，文章可以不需要登录就能看（已处理，修改id表的读取权限，改成了都能read，就能跳过权限）<br>2.登录页面有报错，一键登录退出时有报错（新版本）,登录页面使用原始navigateBar<br>3.其中一个登录页面返回按钮有问题 (已处理，去掉此页面中样式，样式读取了一个css文件，此文件修改了当前页面的格式)<br>4.前面改好后，需要验证发布更新功能,(无法使用更新功能，需要进行debug判断才行)<br>5.数据库数据通过云函数来进行获取<br>4.登录时默认是图片,但打开确实list列表<br>5.list最后出现undefined, 可能和数据库读取有关，新版本遇到的情况。<br>4.其中一个登录页面有两个导航栏（navBar）,应该去掉原生的那个，保留自己的。</p><p>uniapp page.json 页面配置中添加 “navigationStyle”: “custom”，取消原生导航栏<br>navigationStyle导航栏样式，仅支持 default/custom。custom即取消默认的原生导航栏</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1.需要文章免登录查看，文章可以不需要登录就能看（已处理，修改id表的读取权限，改成了都能read，就能跳过权限）&lt;br&gt;2.登录页面有报错，一键登录退出时有报错（新版本）,登录页面使用原始navigateBar&lt;br&gt;3.其中一个登录页面返回按钮有问题 (已处理，去掉此页</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>vue2+uniapp+unicloud项目遇到问题</title>
    <link href="http://yoursite.com/2022/05/31/vue2+uniapp+unicloud%E9%A1%B9%E7%9B%AE%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2022/05/31/vue2+uniapp+unicloud%E9%A1%B9%E7%9B%AE%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98/</id>
    <published>2022-05-31T05:36:58.000Z</published>
    <updated>2022-10-11T01:41:13.694Z</updated>
    
    <content type="html"><![CDATA[<h2 id="2022-9-10更新"><a href="#2022-9-10更新" class="headerlink" title="2022-9-10更新"></a>2022-9-10更新</h2><p>我做了一个vue2的app。<br>在h5上面将程序写完，移动端打包后发现程序根本没法用，不能说没法用，只能说不怎么样。<br>由于是移动端，所以现在把遇到的一些问题和需求总结下。</p><h3 id="1-移动端tabbar无法使用svg图标。"><a href="#1-移动端tabbar无法使用svg图标。" class="headerlink" title="1.移动端tabbar无法使用svg图标。"></a>1.移动端tabbar无法使用svg图标。</h3><p>app打包后，打开程序遇到的第一个问题是tabbar图标居然无法显示。<br>由于想使用粉红色的图标，所以在阿里图标库中找了几个svg图标，在h5测试时没有问题，但在移动端上却出了问题，图标不显示，我把图标换成png发现显示了，然后我用搜索引擎一查，发现是原生的tabbar不支持svg图标，只能使用自定义tabbar.</p><h3 id="2-class-”swipe-item”导致轮播图（banner）无法显示"><a href="#2-class-”swipe-item”导致轮播图（banner）无法显示" class="headerlink" title="2.class=”swipe-item”导致轮播图（banner）无法显示"></a>2.class=”swipe-item”导致轮播图（banner）无法显示</h3><p>想想看，当打开app,发现首页上方背景是灰的，下面tabbar又是无图标的时候，自己的内心是多么崩溃，等于做了个寂寞。<br>后来发现这个class里面的样式在app中是失效的，图片不知道定位到了哪里。去除了这个class样式后，banner图终于显示出来了</p><h3 id="3-我的页面中无法显示问题。"><a href="#3-我的页面中无法显示问题。" class="headerlink" title="3.我的页面中无法显示问题。"></a>3.<code>我的</code>页面中无法显示问题。</h3><p>这个问题困扰了我一阵，明明h5端是能显示的，但移动端却页面空白。<br>后来发现是定义内容的时候，对象最后一个参数后面多了一个逗号。</p><h3 id="4-下载了网易mumu模拟器作为android虚拟机来测试app-却无法连接"><a href="#4-下载了网易mumu模拟器作为android虚拟机来测试app-却无法连接" class="headerlink" title="4.下载了网易mumu模拟器作为android虚拟机来测试app, 却无法连接"></a>4.下载了网易mumu模拟器作为android虚拟机来测试app, 却无法连接</h3><p>解决：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//控制台输入命令</span><br><span class="line">adb devices</span><br></pre></td></tr></table></figure><p>显示<code>list of devices attached</code>，下面没有设备显示，说明没有连接到模拟器<br>在网上查到 mumu模拟器的端口号是<code>hostport:7555</code>, <code>guestport:5555</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//使用命令</span><br><span class="line">adb connect 127.0.0.1:5555</span><br><span class="line">//关闭</span><br><span class="line">adb kill-server</span><br><span class="line">//启动</span><br><span class="line">adb start-server</span><br><span class="line">//查看设备</span><br><span class="line">adb devices</span><br></pre></td></tr></table></figure><p><img src="http://ql-u-pic.oss-cn-shanghai.aliyuncs.com/upic/2022/09/10/0eFlm8GNYzac.png" alt="图片"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;2022-9-10更新&quot;&gt;&lt;a href=&quot;#2022-9-10更新&quot; class=&quot;headerlink&quot; title=&quot;2022-9-10更新&quot;&gt;&lt;/a&gt;2022-9-10更新&lt;/h2&gt;&lt;p&gt;我做了一个vue2的app。&lt;br&gt;在h5上面将程序写完，移动端打包</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Android平台签名证书(.keystore)生成指南</title>
    <link href="http://yoursite.com/2022/04/30/Android%E5%B9%B3%E5%8F%B0%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6(.keystore)%E7%94%9F%E6%88%90%E6%8C%87%E5%8D%97/"/>
    <id>http://yoursite.com/2022/04/30/Android%E5%B9%B3%E5%8F%B0%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6(.keystore)%E7%94%9F%E6%88%90%E6%8C%87%E5%8D%97/</id>
    <published>2022-04-30T14:09:16.000Z</published>
    <updated>2022-05-01T05:57:28.695Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Android平台签名证书-keystore-生成指南"><a href="#Android平台签名证书-keystore-生成指南" class="headerlink" title="Android平台签名证书(.keystore)生成指南"></a>Android平台签名证书(.keystore)生成指南</h1><h3 id="Android证书"><a href="#Android证书" class="headerlink" title="Android证书"></a>Android证书</h3><p>Android平台打包发布apk应用，需要使用数字证书（.keystore文件）进行签名，用于表明开发者身份。</p><blockquote><p>Android证书的生成是自助和免费的，不需要审批或付费。</p></blockquote><p>可以使用JRE环境中的keytool命令生成：</p><p>安装JRE环境（推荐使用JRE8环境，如已有可跳过）<br>可从Oracle官方下载jre安装包：<a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html">https://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p><p>生成签名证书<br>使用keytool -genkey命令生成证书：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -genkey -alias XXXXalias -keyalg RSA -keysize 2048 -validity 36500 -keystore XXXX.keystore</span><br></pre></td></tr></table></figure><p>XXXXalias是证书别名，可修改为自己想设置的字符，建议使用英文字母和数字<br>XXXX.keystore是证书文件名称，可修改为自己想设置的文件名称，也可以指定完整文件路径<br>36500是证书的有效期，表示100年有效期，单位天，建议时间设置长一点，避免证书过期<br>回车后会提示：</p><p>Enter keystore password:  //输入证书文件密码，输入完成回车<br>Re-enter new password:   //再次输入证书文件密码，输入完成回车<br>What is your first and last name?<br>  [Unknown]:  //输入名字和姓氏，输入完成回车<br>What is the name of your organizational unit?<br>  [Unknown]:  //输入组织单位名称，输入完成回车<br>What is the name of your organization?<br>  [Unknown]:  //输入组织名称，输入完成回车<br>What is the name of your City or Locality?<br>  [Unknown]:  //输入城市或区域名称，输入完成回车<br>What is the name of your State or Province?<br>  [Unknown]:  //输入省/市/自治区名称，输入完成回车<br>What is the two-letter country code for this unit?<br>  [Unknown]:  //输入国家/地区代号（两个字母），中国为CN，输入完成回车<br>Is CN=XX, OU=XX, O=XX, L=XX, ST=XX, C=XX correct?<br>  [no]:  //确认上面输入的内容是否正确，输入y，回车  </p><p>Enter key password for <testalias><br>        (RETURN if same as keystore password):  //确认证书密码与证书文件密码一样（HBuilder|HBuilderX要求这两个密码一致），直接回车就可以<br>以上命令运行完成后就会生成证书，路径为“D:\test.keystore”。</p><p><img src="http://ql-u-pic.oss-cn-shanghai.aliyuncs.com/upic/2022/04/30/cejKn047q970.png" alt="配置时截的图"></p><p><img src="http://ql-u-pic.oss-cn-shanghai.aliyuncs.com/upic/2022/04/30/S5uWGSXdFkZP.png" alt="配置好后截得图"></p><p>注意：上述信息填写要规范，乱填有可能会影响应用上架应用市场。</p><p>查看证书信息<br>可以使用以下命令查看：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">keytool -list -v -keystore test.keystore  </span><br><span class="line">Enter keystore password: //输入密码，回车</span><br></pre></td></tr></table></figure><p>会输出以下格式信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Keystore type: PKCS12    </span><br><span class="line">Keystore provider: SUN    </span><br><span class="line"></span><br><span class="line">Your keystore contains 1 entry    </span><br><span class="line"></span><br><span class="line">Alias name: test    </span><br><span class="line">Creation date: 2019-10-28    </span><br><span class="line">Entry type: PrivateKeyEntry    </span><br><span class="line">Certificate chain length: 1    </span><br><span class="line">Certificate[1]:    </span><br><span class="line">Owner: CN=Tester, OU=Test, O=Test, L=HD, ST=BJ, C=CN    </span><br><span class="line">Issuer: CN=Tester, OU=Test, O=Test, L=HD, ST=BJ, C=CN    </span><br><span class="line">Serial number: 7dd12840    </span><br><span class="line">Valid from: Fri Jul 26 20:52:56 CST 2019 until: Sun Jul 02 20:52:56 CST 2119    </span><br><span class="line">Certificate fingerprints:    </span><br><span class="line">         MD5:  F9:F6:C8:1F:DB:AB:50:14:7D:6F:2C:4F:CE:E6:0A:A5    </span><br><span class="line">         SHA1: BB:AC:E2:2F:97:3B:18:02:E7:D6:69:A3:7A:28:EF:D2:3F:A3:68:E7    </span><br><span class="line">         SHA256: 24:11:7D:E7:36:12:BC:FE:AF:2A:6A:24:BD:04:4F:2E:33:E5:2D:41:96:5F:50:4D:74:17:7F:4F:E2:55:EB:26    </span><br><span class="line">Signature algorithm name: SHA256withRSA    </span><br><span class="line">Subject Public Key Algorithm: 2048-bit RSA key    </span><br><span class="line">Version: 3</span><br></pre></td></tr></table></figure><p><img src="http://ql-u-pic.oss-cn-shanghai.aliyuncs.com/upic/2022/04/30/4PFxuAnPLPst.png" alt="上面内容的截图"><br>其中证书指纹信息（Certificate fingerprints）：</p><p>MD5<br>证书的MD5指纹信息（安全码MD5）<br>SHA1<br>证书的SHA1指纹信息（安全码SHA1）<br>SHA256<br>证书的SHA256指纹信息（安全码SHA245）<br>安卓签名获取工具<br>直接通过一个apk，获取安装到手机的第三方应用签名的apk包。 详情：<a href="https://developers.weixin.qq.com/doc/oplatform/Downloads/Android_Resource.html">https://developers.weixin.qq.com/doc/oplatform/Downloads/Android_Resource.html</a></p><p>注意事项<br>云端打包默认会添加V1/V2签名，已知V1签名不支持2048位的DSA算法，使用2048-bit DSA key云端打包可能失败，提示以下错误：</p><ul><li>What went wrong:<br>Execution failed for task ‘:app:packageRelease’.  <blockquote><p>A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable<br>java.io.IOException: Failed to generate v1 signature<br>解决方法</p></blockquote></li></ul><p>第一种方法：重新生成证书，在生成证书命令中添加“-keyalg RSA”参数指定使用RSA算法<br>第二种方法：设置miniSdkVersion大于等于24，因为V2签名需Android7及以上设备才支持，设置miniSdkVersion大于等于24表示不支持android7以下设备，从而不需要包含V1签名，设置miniSdkVersion详情参考：<a href="https://ask.dcloud.net.cn/article/193">https://ask.dcloud.net.cn/article/193</a><br>查看证书算法的方法<br>使用“keytool -list -v”查看证书信息，看“Subject Public Key Algorithm: ”项的信息，如下表示使用DSA算法：</p><p>Subject Public Key Algorithm: 2048-bit DSA key<br>其他<br>Android平台公共测试证书<br>Android平台DCloud公用证书（DCloud老版本证书）<br>可获取MD5签名的JDK版本分享<br>【详见】<a href="https://ask.dcloud.net.cn/article/38778">https://ask.dcloud.net.cn/article/38778</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Android平台签名证书-keystore-生成指南&quot;&gt;&lt;a href=&quot;#Android平台签名证书-keystore-生成指南&quot; class=&quot;headerlink&quot; title=&quot;Android平台签名证书(.keystore)生成指南&quot;&gt;&lt;/a&gt;Andr</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>获取远程共享文件夹</title>
    <link href="http://yoursite.com/2022/03/15/%E8%8E%B7%E5%8F%96%E8%BF%9C%E7%A8%8B%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
    <id>http://yoursite.com/2022/03/15/%E8%8E%B7%E5%8F%96%E8%BF%9C%E7%A8%8B%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/</id>
    <published>2022-03-15T12:28:49.000Z</published>
    <updated>2022-08-14T06:12:57.048Z</updated>
    
    <content type="html"><![CDATA[<p>windows:<br>调出命令框，说着使用搜索栏<br>输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\\IP地址</span><br><span class="line">例如：</span><br><span class="line">\\192.168.0.1</span><br></pre></td></tr></table></figure><p>mac:<br>finder-&gt;前往-&gt;连接服务器<br>输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ftp://IP地址</span><br><span class="line">例如：</span><br><span class="line">ftp://192.168.0.1</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;windows:&lt;br&gt;调出命令框，说着使用搜索栏&lt;br&gt;输入&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>VSCode 建立多项目工作区</title>
    <link href="http://yoursite.com/2022/03/03/VSCode-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E5%8C%BA/"/>
    <id>http://yoursite.com/2022/03/03/VSCode-%E5%BB%BA%E7%AB%8B%E5%A4%9A%E9%A1%B9%E7%9B%AE%E5%B7%A5%E4%BD%9C%E5%8C%BA/</id>
    <published>2022-03-03T02:31:51.000Z</published>
    <updated>2022-03-03T06:30:31.514Z</updated>
    
    <content type="html"><![CDATA[<p>调出命令面板或者<code>文件 —&gt; 将文件夹添加到工作区</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//打开命令面板</span><br><span class="line">command+shift+P</span><br><span class="line">//添加项目文件夹</span><br><span class="line">&gt; add folder to workspace</span><br><span class="line">//保存工作空间</span><br><span class="line">&gt; save workspace as...</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;调出命令面板或者&lt;code&gt;文件 —&amp;gt; 将文件夹添加到工作区&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>mac ffmpeg下载配置</title>
    <link href="http://yoursite.com/2021/11/15/mac-ffmpeg%E4%B8%8B%E8%BD%BD%E9%85%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2021/11/15/mac-ffmpeg%E4%B8%8B%E8%BD%BD%E9%85%8D%E7%BD%AE/</id>
    <published>2021-11-15T05:42:35.000Z</published>
    <updated>2021-11-15T05:51:12.500Z</updated>
    
    <content type="html"><![CDATA[<p>为了把<code>b站</code>的视频<code>flv</code>格式转换成<code>MP4</code>格式，所以下载<code>ffmpeg</code>用来转换<code>MP4</code>格式.<br>正常下载使用 <code>brew</code>，但不知道为什么一直报错无法下载，最后觉得直接<a href="https://ffmpeg.org/download.html">官网下载</a>后，配置使用</p><span id="more"></span><p>下载好后，<code>vi ~/.bash_profile</code>，在文件最后添加上下面的环境变量就可以到处使用了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#ffmpeg</span><br><span class="line">export PATH=$PATH:/Applications/projectForMyself/environment_configuration/ffmpegFloder/bin</span><br></pre></td></tr></table></figure><p>我把下载的<code>ffmpeg</code>，放在了<code>bin</code>文件里面，也就是<code>bin/ffmpeg</code>。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;为了把&lt;code&gt;b站&lt;/code&gt;的视频&lt;code&gt;flv&lt;/code&gt;格式转换成&lt;code&gt;MP4&lt;/code&gt;格式，所以下载&lt;code&gt;ffmpeg&lt;/code&gt;用来转换&lt;code&gt;MP4&lt;/code&gt;格式.&lt;br&gt;正常下载使用 &lt;code&gt;brew&lt;/code&gt;，但不知道为什么一直报错无法下载，最后觉得直接&lt;a href=&quot;https://ffmpeg.org/download.html&quot;&gt;官网下载&lt;/a&gt;后，配置使用&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>mac电脑遇到的svn证书验证失败问题</title>
    <link href="http://yoursite.com/2021/10/14/svn/"/>
    <id>http://yoursite.com/2021/10/14/svn/</id>
    <published>2021-10-14T01:33:04.000Z</published>
    <updated>2021-10-14T01:40:23.279Z</updated>
    
    <content type="html"><![CDATA[<h1 id="svn报错：Server-SSL-certificate-verification-failed-certificate-has-expired-issuer-is-not-trusted"><a href="#svn报错：Server-SSL-certificate-verification-failed-certificate-has-expired-issuer-is-not-trusted" class="headerlink" title="svn报错：Server SSL certificate verification failed: certificate has expired, issuer is not trusted"></a>svn报错：Server SSL certificate verification failed: certificate has expired, issuer is not trusted</h1><p>第一次连接svn拉去代码时遇到的问题，原因是https证书验证失败。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>在终端中操作</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#地址请填自己的svn地址</span></span><br><span class="line">svn sl https://svn.xxxxxx/xxxx</span><br></pre></td></tr></table></figure><p>运行后，出现<code>是否需要重新验证</code>,R表示不打算验证，T和P表示临时和总是相信。<br>我们输入<code>P</code>总是相信<br>接下来需要输入账号密码等信息，直接输入svn的账号和密码即可。<br>以上操作完毕，就可以拉去代码了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;svn报错：Server-SSL-certificate-verification-failed-certificate-has-expired-issuer-is-not-trusted&quot;&gt;&lt;a href=&quot;#svn报错：Server-SSL-certifica</summary>
      
    
    
    
    
    <category term="-svn" scheme="http://yoursite.com/tags/svn/"/>
    
  </entry>
  
  <entry>
    <title>mac下载EasyConnect软件</title>
    <link href="http://yoursite.com/2021/10/14/mac%E4%B8%8B%E8%BD%BDeasyconnect%E8%BD%AF%E4%BB%B6/"/>
    <id>http://yoursite.com/2021/10/14/mac%E4%B8%8B%E8%BD%BDeasyconnect%E8%BD%AF%E4%BB%B6/</id>
    <published>2021-10-14T01:10:02.000Z</published>
    <updated>2021-10-14T01:26:52.065Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>前言<br>许多公司都是需要连接内网来进行开发的，所以需要下载easyConnect软件，但仍然会遇到无法下载的问题，所以记录一下经历</p></blockquote><p>一般公司都会让你发本机的MAC地址（电脑的物理地址），然后帮你开通内网.<br>开通好后，会给你一个<code>vpn.xxx.com</code>的地址，打开这个网址，会检测你电脑是否安装了<code>EasyConnect</code>，如果没有安装则会直接跳转到<code>EasyConnect</code>下载页面。</p><h2 id="如果你没法下载，注意！mac电脑请使用自带的Safari浏览器打开，才能下载mac的安装包"><a href="#如果你没法下载，注意！mac电脑请使用自带的Safari浏览器打开，才能下载mac的安装包" class="headerlink" title="如果你没法下载，注意！mac电脑请使用自带的Safari浏览器打开，才能下载mac的安装包"></a>如果你没法下载，<span style="color:red">注意！mac电脑请使用自带的<code>Safari浏览器</code>打开，才能下载mac的安装包</span></h2>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;前言&lt;br&gt;许多公司都是需要连接内网来进行开发的，所以需要下载easyConnect软件，但仍然会遇到无法下载的问题，所以记录一下经历&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一般公司都会让你发本机的MAC地址（电脑的物理地址），然后帮你开通内网</summary>
      
    
    
    
    
    <category term="-技术" scheme="http://yoursite.com/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>win10 sourcetree跳过注册(版本3.4.6.0)</title>
    <link href="http://yoursite.com/2021/09/13/win10-sourcetree%E8%B7%B3%E8%BF%87%E6%B3%A8%E5%86%8C(%E7%89%88%E6%9C%AC3.4.6.0)/"/>
    <id>http://yoursite.com/2021/09/13/win10-sourcetree%E8%B7%B3%E8%BF%87%E6%B3%A8%E5%86%8C(%E7%89%88%E6%9C%AC3.4.6.0)/</id>
    <published>2021-09-13T02:20:11.000Z</published>
    <updated>2021-09-13T02:37:21.311Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>文章参考了酷极和的文章<a href="https://www.cnblogs.com/daizhongxing/p/12251672.html">Windows10 下安装SourceTree 跳过注册 Bitbucket</a>，主要是用来记录下自己这边的操作。</p></blockquote><p>首先在官网下载好最新版之后（2021-9-13最新版是3.4.6），安装。</p><p>不要打开程序，先改配置<br><code>C:\Users\当前用户文件夹\AppData\Local\Atlassian\SourceTree</code>添加文件<code>accounts.json</code>，添加内容如下</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;$id&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;$type&quot;</span>: <span class="string">&quot;SourceTree.Api.Host.Identity.Model.IdentityAccount, SourceTree.Api.Host.Identity&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;Authenticate&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;HostInstance&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;$id&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;$type&quot;</span>: <span class="string">&quot;SourceTree.Host.Atlassianaccount.AtlassianAccountInstance, SourceTree.Host.AtlassianAccount&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;Host&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;$id&quot;</span>: <span class="string">&quot;3&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;$type&quot;</span>: <span class="string">&quot;SourceTree.Host.Atlassianaccount.AtlassianAccountHost, SourceTree.Host.AtlassianAccount&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;Id&quot;</span>: <span class="string">&quot;atlassian account&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;BaseUrl&quot;</span>: <span class="string">&quot;https://id.atlassian.com/&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;Credentials&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;$id&quot;</span>: <span class="string">&quot;4&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;$type&quot;</span>: <span class="string">&quot;SourceTree.Model.BasicAuthCredentials, SourceTree.Api.Account&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;Username&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;Email&quot;</span>: <span class="literal">null</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;IsDefault&quot;</span>: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>然后修改文件<code>C:\Users\当前用户文件夹\AppData\Local\Atlassian\SourceTree.exe_Url_xxxxxxxx\3.4.6.0\user.config</code>，内容如下</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;setting name=<span class="string">&quot;AgreedToEULA&quot;</span> serializeAs=<span class="string">&quot;String&quot;</span>&gt;</span><br><span class="line">        &lt;value&gt;True&lt;/value&gt;</span><br><span class="line">&lt;/setting&gt;</span><br><span class="line">&lt;setting name=<span class="string">&quot;AgreedToEULAVersion&quot;</span> serializeAs=<span class="string">&quot;String&quot;</span>&gt;</span><br><span class="line">        &lt;value&gt;<span class="number">20160201</span>&lt;/value&gt;</span><br><span class="line">&lt;/setting&gt;</span><br></pre></td></tr></table></figure><p>然后启动既可以了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;文章参考了酷极和的文章&lt;a href=&quot;https://www.cnblogs.com/daizhongxing/p/12251672.html&quot;&gt;Windows10 下安装SourceTree 跳过注册 Bitbucket&lt;/a&gt;，主要是用来记录</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>图片上传工具（uPic 图床 + 阿里云oss）(Gitee废弃)</title>
    <link href="http://yoursite.com/2021/08/18/uPic+gitee%E5%9B%BE%E5%BA%8A/"/>
    <id>http://yoursite.com/2021/08/18/uPic+gitee%E5%9B%BE%E5%BA%8A/</id>
    <published>2021-08-18T08:37:41.000Z</published>
    <updated>2022-04-24T09:41:47.860Z</updated>
    
    <content type="html"><![CDATA[<h1 id="2022年4月17日-说明："><a href="#2022年4月17日-说明：" class="headerlink" title="2022年4月17日  说明："></a>2022年4月17日  说明：</h1><p><font color="red">目前<code>gitee</code>启用了防盗用链，所以无法再作为图床，而<code>github</code>在国内有时候不是很顺畅，所以我改用了<code>阿里云oss</code>对象存储，来作为图床，一年9元人民币，一个人用我觉得应该还是没问题的，后续遇到问题再说吧。<br></font></p><p>文章主要使用了这个作者写的<a href="https://blog.svend.cc/upic/tutorials/gitee/">uPic 图床配置教程 - 码云(Gitee)</a>，自己在这里记录主要是为了留个备份。</p><h2 id="配置项说明"><a href="#配置项说明" class="headerlink" title="配置项说明"></a>配置项说明</h2><span id="more"></span><ul><li>用户名: 码云用户名。例如：我的码云主页<code>https://gitee.com/xxxx</code>，我的用户名就是xxxx</li><li>仓库名: 需要储存上传文件的仓库名称。例如：我的仓库地址为 <code>https://gitee.com/xxx/oss-22</code> ，仓库名称就是oss-22 <strong>备注：是地址上的仓库名称，如果你创建了proUdd等名称，在网页地址上面会显示pro-udd，而仓库名取的就是地址上面的名称而不是你创建的名称</strong></li><li>分支: 分支名称，默认是master。必须先创建好对应分支，才能使用</li><li>Token: 码云的私人令牌</li><li>域名: 默认可不设置域名，会使用码云默认的访问地址。当你的仓库开启了pages功能，并配置好了自定义域名时，这里就可以使用你的自定义域名</li><li>保存路径: 文件储存的路径（包括文件夹）。 支持 {year} {month} {day} {hour} {minute} {second} {since_second} {since_millisecond} {random} {filename} {.suffix} 等变量。比如：上传的图片为 uPic.jpg，设定为 “uPic/{filename}{.suffix}”，则会保存到 “uPic/uPic.jpg”。</li></ul><h2 id="Token-获取方式"><a href="#Token-获取方式" class="headerlink" title="Token 获取方式"></a>Token 获取方式</h2><p>1.点击<a href="https://gitee.com/profile/personal_access_tokens/new">进入码云 Token 创建页面(点击进入)</a><br>2.勾选<code>projects</code>访问权限或者全选都可以。然后滚动页面到底部，点击Generate token按钮来生成 token<br>3.复制生成好的 Token 值到 uPic token 输入框<br><font color="red">注意：此 Token 只会显示一次！请务必保存好，否则之后丢失了，就得重新创建了~</font></p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>Gitee 私有库里面的图片无法展示，需要改为公开库才行</p><p>Gitee目前已经无法作为图床了，因为启用了防盗链，请求的链接头不是gitee的地址就不会获取到你自己的图片。</p><p>所以转成用阿里云oss</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;2022年4月17日-说明：&quot;&gt;&lt;a href=&quot;#2022年4月17日-说明：&quot; class=&quot;headerlink&quot; title=&quot;2022年4月17日  说明：&quot;&gt;&lt;/a&gt;2022年4月17日  说明：&lt;/h1&gt;&lt;p&gt;&lt;font color=&quot;red&quot;&gt;目前&lt;code&gt;gitee&lt;/code&gt;启用了防盗用链，所以无法再作为图床，而&lt;code&gt;github&lt;/code&gt;在国内有时候不是很顺畅，所以我改用了&lt;code&gt;阿里云oss&lt;/code&gt;对象存储，来作为图床，一年9元人民币，一个人用我觉得应该还是没问题的，后续遇到问题再说吧。&lt;br&gt;&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;文章主要使用了这个作者写的&lt;a href=&quot;https://blog.svend.cc/upic/tutorials/gitee/&quot;&gt;uPic 图床配置教程 - 码云(Gitee)
&lt;/a&gt;，自己在这里记录主要是为了留个备份。&lt;/p&gt;
&lt;h2 id=&quot;配置项说明&quot;&gt;&lt;a href=&quot;#配置项说明&quot; class=&quot;headerlink&quot; title=&quot;配置项说明&quot;&gt;&lt;/a&gt;配置项说明&lt;/h2&gt;</summary>
    
    
    
    <category term="tool" scheme="http://yoursite.com/categories/tool/"/>
    
    
    <category term="uPic" scheme="http://yoursite.com/tags/uPic/"/>
    
    <category term="gitee" scheme="http://yoursite.com/tags/gitee/"/>
    
    <category term="阿里云oss" scheme="http://yoursite.com/tags/%E9%98%BF%E9%87%8C%E4%BA%91oss/"/>
    
  </entry>
  
  <entry>
    <title>mac iterm2配置ssh连接</title>
    <link href="http://yoursite.com/2021/08/18/mac-iterm2/"/>
    <id>http://yoursite.com/2021/08/18/mac-iterm2/</id>
    <published>2021-08-18T06:44:08.000Z</published>
    <updated>2021-08-19T01:56:56.732Z</updated>
    
    <content type="html"><![CDATA[<p>首先先测试下，在<code>iterm</code>中输入命令<code>ssh -p$port root@$host</code>查看是否能连接到服务器</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-p后面跟端口号，@后面跟地址</span></span><br><span class="line"><span class="variable">$ssh</span> -p22 root@101.102.03.04</span><br></pre></td></tr></table></figure><p><strong>如果没问题，则开始配置</strong></p><span id="more"></span><ul><li><p><strong>ssh配置</strong><br>点击<code>iterm2—&gt;Preferences—&gt;Profiles</code>，或者使用快捷键<code>⌘O</code>(command+英文O)<br><img src="https://gitee.com/qianlei6148/pictures-of-the-warehouse/raw/master/uPic/202108/20210819rmwLtg.png" alt="新建Profiles图片"></p></li><li><p><strong>输入密码</strong><br>由于只能登录之后输入密码，密码过于复杂或者登录次数少还会忘记，所以再配置密码。<br>点击<code>Window-&gt;Password Manager</code>或者使用快捷键<code>⌥⌘F</code><br><img src="https://gitee.com/qianlei6148/pictures-of-the-warehouse/raw/master/uPic/202108/202108198yn72U.png" alt="新建密码图片"></p></li></ul><h2 id="所有配置完成。"><a href="#所有配置完成。" class="headerlink" title="所有配置完成。"></a><font color='red'>所有配置完成</font>。</h2><p>配置完毕，以后打开ssh，就直接快捷键<code>⌘O</code>选中想要打开的<code>ssh</code>回车即可。<br>进入后让你输入密码的时候，就快捷键<code>⌥⌘F</code>选中你设定的密码回车就自动输入进去了。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;首先先测试下，在&lt;code&gt;iterm&lt;/code&gt;中输入命令&lt;code&gt;ssh -p$port root@$host&lt;/code&gt;查看是否能连接到服务器&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#-p后面跟端口号，@后面跟地址&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$ssh&lt;/span&gt; -p22 root@101.102.03.04&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;如果没问题，则开始配置&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="tool" scheme="http://yoursite.com/categories/tool/"/>
    
    
    <category term="ssh" scheme="http://yoursite.com/tags/ssh/"/>
    
    <category term="item2" scheme="http://yoursite.com/tags/item2/"/>
    
  </entry>
  
  <entry>
    <title>使用Navigator判断IE版本</title>
    <link href="http://yoursite.com/2021/08/13/%E5%88%A4%E6%96%ADIE%E7%89%88%E6%9C%AC/"/>
    <id>http://yoursite.com/2021/08/13/%E5%88%A4%E6%96%ADIE%E7%89%88%E6%9C%AC/</id>
    <published>2021-08-13T01:12:07.000Z</published>
    <updated>2021-08-13T01:55:55.225Z</updated>
    
    <content type="html"><![CDATA[<ul><li>F12控制台输入<code>navigator</code></li><li><code>appName</code>参数，值<code>Netscape</code>表示<code>IE11</code>，<code>Microsoft Internet Explorer</code>表示为其他版本。</li><li><code>appVersion</code>参数，值中包含<code>MISE</code>说明使用的是<strong>使用IE10及以下版本</strong>，如果没有包含说明是<code>IE11</code>。</li><li></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;F12控制台输入&lt;code&gt;navigator&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;appName&lt;/code&gt;参数，值&lt;code&gt;Netscape&lt;/code&gt;表示&lt;code&gt;IE11&lt;/code&gt;，&lt;code&gt;Microsoft Internet E</summary>
      
    
    
    
    <category term="technology" scheme="http://yoursite.com/categories/technology/"/>
    
    
    <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>java jdk8 后台调用打印机来打印pdf文件</title>
    <link href="http://yoursite.com/2021/07/26/java%E5%90%8E%E5%8F%B0%E8%B0%83%E7%94%A8%E6%89%93%E5%8D%B0%E6%9C%BA%E6%89%93%E5%8D%B0/"/>
    <id>http://yoursite.com/2021/07/26/java%E5%90%8E%E5%8F%B0%E8%B0%83%E7%94%A8%E6%89%93%E5%8D%B0%E6%9C%BA%E6%89%93%E5%8D%B0/</id>
    <published>2021-07-26T05:35:24.000Z</published>
    <updated>2021-08-19T01:55:39.603Z</updated>
    
    <content type="html"><![CDATA[<p>网上搜了很多，基本上用到的类都差不多，但把代码拷过来却发现明明就打印一页pdf，打印机却打出了3张而且内容也全是乱码（<strong>打出乱码问题大概知道了原因：是因为打印机不支持pdf文件打印</strong>）。</p><h3 id="重要：遇到了2个问题："><a href="#重要：遇到了2个问题：" class="headerlink" title="重要：遇到了2个问题："></a>重要：遇到了2个问题：</h3><blockquote><ul><li>1 使用下面的代码遇到了一个问题，在使用<code>HP laserjet M401d</code>打印机没有立即不打印，打印机上面显示”将介质装入纸盒1，普通纸 信封C4或按OK使用可用介质”，按了打印机上面的<code>ok</code>按钮后才打印，这个问题需要给打印机设置<code>任何材质打印</code>。</li><li>2 后台代码报错以及打印出来二进制的乱码：<code>sun.print.PrintJobFlavorException: invalid flavor</code>，我设置的是<code>DocFlavor flavor = DocFlavor.INPUT_STREAM.PDF;</code>根据网上查证，是因为打印机不支持pdf格式，而且在程序里面设置<code>AUTOSENSE</code>打印出来就是乱码了，可能是因为这个打印机是用来打印小票的。解决方法是把文件转成<code>JPEG</code>格式再打印出来。</li></ul></blockquote><span id="more"></span><p>程序代码是自己从 <strong><a href="https://www.tabnine.com/code/java/classes/javax.print.SimpleDoc">tabnine网站</a></strong> 里面搜索相关代码以及查看网上打印的相关api后试验得到可以使用的如下代码<br>下面代码使用main方法执行，文件使用云盘上或者本地文件，设置为A4纸和横向打印</p><h4 id="主方法"><a href="#主方法" class="headerlink" title="* 主方法"></a>* 主方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 打印文档具体方法，属性配置</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> filePath 文件路径</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> IOException ioexception</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printHelloDocument</span><span class="params">(String filePath)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">       <span class="comment">//获取到文件，需要判断是服务器本地文件还是云盘上的文件</span></span><br><span class="line">       File file = getFile(filePath);</span><br><span class="line">       FileInputStream is = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">       <span class="comment">// 构造一个新的空打印请求属性集</span></span><br><span class="line">       PrintRequestAttributeSet aset = <span class="keyword">new</span> HashPrintRequestAttributeSet();</span><br><span class="line">       <span class="comment">//设置打印文件为pdf</span></span><br><span class="line">       DocFlavor flavor = DocFlavor.INPUT_STREAM.PDF;</span><br><span class="line">       <span class="comment">// 构造具有指定打印数据、doc flavor 和 doc 属性集</span></span><br><span class="line">       Doc doc = <span class="keyword">new</span> SimpleDoc(is, flavor, <span class="keyword">null</span>);</span><br><span class="line">       <span class="comment">// 获取所有打印机信息</span></span><br><span class="line">       PrintService[] services = PrintServiceLookup.lookupPrintServices(flavor, aset);</span><br><span class="line">       <span class="comment">// 获取你当前计算机默认打印机</span></span><br><span class="line">       PrintService defaultService = PrintServiceLookup.lookupDefaultPrintService();</span><br><span class="line">       <span class="comment">//如果没有获取到默认打印机</span></span><br><span class="line">       <span class="keyword">if</span> (defaultService == <span class="keyword">null</span>) &#123;</span><br><span class="line">           <span class="keyword">if</span> (services.length == <span class="number">0</span>) &#123;</span><br><span class="line">               LOGGER.error(<span class="string">&quot;没有获取到打印机&quot;</span>);</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="comment">//显示打印设置提示框</span></span><br><span class="line">               <span class="comment">//(这个提示框是jdk8里面的，如果是jdk6的，请换jdk6的提示框)</span></span><br><span class="line">               SwingUtilities.invokeLater(() -&gt; &#123;</span><br><span class="line">                   PrintService service = ServiceUI.printDialog(<span class="keyword">null</span>, <span class="number">200</span>, <span class="number">200</span>,</span><br><span class="line">                           services, defaultService, flavor, aset);</span><br><span class="line">                   <span class="keyword">if</span> (service != <span class="keyword">null</span>) &#123;</span><br><span class="line">                       <span class="comment">//如果打印机服务不为空，则建立一个打印作业</span></span><br><span class="line">                       DocPrintJob job = service.createPrintJob();</span><br><span class="line">                       <span class="comment">//调用打印方法</span></span><br><span class="line">                       printDocument(doc, aset, job);</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="comment">//如果有默认打印机，则直接建立一个打印作业</span></span><br><span class="line">           DocPrintJob job = defaultService.createPrintJob();</span><br><span class="line">           <span class="comment">//调用打印方法</span></span><br><span class="line">           printDocument(doc, aset, job);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h4 id="获取文件方法"><a href="#获取文件方法" class="headerlink" title="* 获取文件方法"></a>* 获取文件方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 得到文件</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> filePath 文件路径</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> File&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> File <span class="title">getFile</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">        File file;</span><br><span class="line">        <span class="keyword">if</span> (filePath.startsWith(<span class="string">&quot;http&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">//如果是云盘地址，则转成file文件</span></span><br><span class="line">            file = fileByInputStream(filePath);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            file = <span class="keyword">new</span> File(filePath);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> file;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="文件从云盘上获取"><a href="#文件从云盘上获取" class="headerlink" title="* 文件从云盘上获取"></a>* 文件从云盘上获取</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 文件根据输入流生成</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> urlStr 文件在云盘上的地址</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@link</span> File&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> File <span class="title">fileByInputStream</span><span class="params">(String urlStr)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建文件</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;1.pdf&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="comment">//获取云盘上的文件并转成流</span></span><br><span class="line">            URL url = <span class="keyword">new</span> URL(urlStr);</span><br><span class="line">            InputStream inputStream = url.openStream();</span><br><span class="line">            OutputStream outputStream = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">            <span class="keyword">while</span> ((count = inputStream.read(data, <span class="number">0</span>, <span class="number">1024</span>)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                outputStream.write(data, <span class="number">0</span>, count);</span><br><span class="line">            &#125;</span><br><span class="line">            inputStream.close();</span><br><span class="line">            outputStream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;文件上传失败&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> file;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="使用打印机打印"><a href="#使用打印机打印" class="headerlink" title="* 使用打印机打印"></a>* 使用打印机打印</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 打印文档</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> doc  打印内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> aset 打印请求属性集</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> job  表示了一个可使用作业属性集打印指定文档的打印作业</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printDocument</span><span class="params">(Doc doc, PrintRequestAttributeSet aset, DocPrintJob job)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//设置纸张为A4纸</span></span><br><span class="line">            aset.add(MediaSizeName.ISO_A4);</span><br><span class="line">            <span class="comment">//设置横向打印（默认是纵向，所以横向要设置）</span></span><br><span class="line">            aset.add(OrientationRequested.LANDSCAPE);</span><br><span class="line">            <span class="comment">//打印</span></span><br><span class="line">            job.print(doc, aset);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (PrintException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="comment">// may be called from Swing thread</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="最后调用main方法来测试"><a href="#最后调用main方法来测试" class="headerlink" title="* 最后调用main方法来测试"></a>* 最后调用main方法来测试</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//文件地址可以是本地文件也能是云盘上的文件地址</span></span><br><span class="line">        String filePath = <span class="string">&quot;/Applications/projectForMyself/projectGit/1.pdf&quot;</span>;</span><br><span class="line">        <span class="comment">//云盘地址</span></span><br><span class="line">        <span class="comment">//String filePath = &quot;http://s3-qos.XXXXX.cn/test/system/XXXXX.pdf&quot;;</span></span><br><span class="line">        printHelloDocument(filePath);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;网上搜了很多，基本上用到的类都差不多，但把代码拷过来却发现明明就打印一页pdf，打印机却打出了3张而且内容也全是乱码（&lt;strong&gt;打出乱码问题大概知道了原因：是因为打印机不支持pdf文件打印&lt;/strong&gt;）。&lt;/p&gt;
&lt;h3 id=&quot;重要：遇到了2个问题：&quot;&gt;&lt;a href=&quot;#重要：遇到了2个问题：&quot; class=&quot;headerlink&quot; title=&quot;重要：遇到了2个问题：&quot;&gt;&lt;/a&gt;重要：遇到了2个问题：&lt;/h3&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1 使用下面的代码遇到了一个问题，在使用&lt;code&gt;HP laserjet M401d&lt;/code&gt;打印机没有立即不打印，打印机上面显示”将介质装入纸盒1，普通纸 信封C4或按OK使用可用介质”，按了打印机上面的&lt;code&gt;ok&lt;/code&gt;按钮后才打印，这个问题需要给打印机设置&lt;code&gt;任何材质打印&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;2 后台代码报错以及打印出来二进制的乱码：&lt;code&gt;sun.print.PrintJobFlavorException: invalid flavor&lt;/code&gt;，我设置的是&lt;code&gt;DocFlavor flavor = DocFlavor.INPUT_STREAM.PDF;&lt;/code&gt;根据网上查证，是因为打印机不支持pdf格式，而且在程序里面设置&lt;code&gt;AUTOSENSE&lt;/code&gt;打印出来就是乱码了，可能是因为这个打印机是用来打印小票的。解决方法是把文件转成&lt;code&gt;JPEG&lt;/code&gt;格式再打印出来。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="technology" scheme="http://yoursite.com/categories/technology/"/>
    
    
    <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>更新node</title>
    <link href="http://yoursite.com/2021/07/19/%E6%9B%B4%E6%96%B0node/"/>
    <id>http://yoursite.com/2021/07/19/%E6%9B%B4%E6%96%B0node/</id>
    <published>2021-07-19T02:01:57.000Z</published>
    <updated>2021-07-23T03:02:36.106Z</updated>
    
    <content type="html"><![CDATA[<h2 id="更新node"><a href="#更新node" class="headerlink" title="更新node"></a>更新node</h2><h3 id="1-windows-更新node"><a href="#1-windows-更新node" class="headerlink" title="1.windows 更新node"></a>1.windows 更新node</h3><p>如果是windows, 那就请到node官网下载windows最新安装包来覆盖之前的node即可。</p><h3 id="2-mac-linux-更新node"><a href="#2-mac-linux-更新node" class="headerlink" title="2.mac/linux 更新node"></a>2.mac/linux 更新node</h3><p>如果是mac/linux, 直接打开控制台</p><span id="more"></span><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先查看你的node版本</span></span><br><span class="line"><span class="variable">$node</span> -v</span><br><span class="line"><span class="comment"># 使用Node Binary管理模块&quot;n&quot;</span></span><br><span class="line"><span class="comment"># 全局安装管理模板&quot;n&quot;</span></span><br><span class="line"><span class="variable">$npm</span> install -g n</span><br></pre></td></tr></table></figure><p>安装管理模块<code>n</code>后，可以使用如下三种方式更新<code>node</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 升级到指定的版本 n 版本号</span></span><br><span class="line"><span class="variable">$n</span> 8.4.1</span><br><span class="line"><span class="comment"># 安装稳定版本(长期支持版本，稳定)</span></span><br><span class="line"><span class="variable">$n</span> stable</span><br><span class="line"><span class="comment"># 安装最新版本(当前发布的最新版本，含最新功能)</span></span><br><span class="line"><span class="variable">$n</span> latest</span><br></pre></td></tr></table></figure><p>安装好最新版后，查看是否成功</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$node</span> -v</span><br><span class="line">v14.17.3</span><br></pre></td></tr></table></figure><h4 id="问题-如果得到的版本信息不正确，还是老版本"><a href="#问题-如果得到的版本信息不正确，还是老版本" class="headerlink" title="问题 如果得到的版本信息不正确，还是老版本"></a>问题 如果得到的版本信息不正确，还是老版本</h4><h5 id="解决方式"><a href="#解决方式" class="headerlink" title="解决方式:"></a>解决方式:</h5><blockquote><p><code>n</code> 切换之后的<code>node</code>默认装在 <code>/usr/local/bin/node</code>，先用 <code>which node</code> 检查一下当前使用的 <code>node</code> 是否是这个路径下的。如上缘由，一般都是因为当前版本指定到了其他路径，更新下<code>/etc/profile</code>文件指定即可。</p></blockquote><h3 id="扩展知识-管理模块-n"><a href="#扩展知识-管理模块-n" class="headerlink" title="扩展知识 : 管理模块 n"></a>扩展知识 : 管理模块 <em><strong><code>n</code></strong></em></h3><blockquote><p><code>n是Node的一个模块，作者是TJ Holowaychuk（鼎鼎大名的Express框架作者）</code>。<br>安装好后，你可以直接输入<code>n</code>后输出当前已经安装的node版本以及正在使用的版本（前面有一个o），你可以通过移动上下方向键来选择要使用的版本，最后按回车生效.</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$n</span></span><br><span class="line">    0.10.1 </span><br><span class="line">    0.10.15 </span><br><span class="line">o   0.10.21 </span><br><span class="line">    0.11.8</span><br></pre></td></tr></table></figure><blockquote><p>删除某个版本</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$n</span> rm 0.10.1 </span><br></pre></td></tr></table></figure><hr><h4 id="p-s-参考文章："><a href="#p-s-参考文章：" class="headerlink" title="p.s. 参考文章："></a>p.s. 参考文章：</h4><blockquote><ol><li><a href="https://www.jianshu.com/p/e41a7aa0288c">轻松两步完成Node.js版本升级</a></li><li><a href="https://blog.csdn.net/guzhao593/article/details/81712016">windows node版本如何升级</a></li><li><a href="https://blog.csdn.net/jiangbo_phd/article/details/51476155">利用N来管理nodejs的版本问题</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;更新node&quot;&gt;&lt;a href=&quot;#更新node&quot; class=&quot;headerlink&quot; title=&quot;更新node&quot;&gt;&lt;/a&gt;更新node&lt;/h2&gt;&lt;h3 id=&quot;1-windows-更新node&quot;&gt;&lt;a href=&quot;#1-windows-更新node&quot; class=&quot;headerlink&quot; title=&quot;1.windows 更新node&quot;&gt;&lt;/a&gt;1.windows 更新node&lt;/h3&gt;&lt;p&gt;如果是windows, 那就请到node官网下载windows最新安装包来覆盖之前的node即可。&lt;/p&gt;
&lt;h3 id=&quot;2-mac-linux-更新node&quot;&gt;&lt;a href=&quot;#2-mac-linux-更新node&quot; class=&quot;headerlink&quot; title=&quot;2.mac/linux 更新node&quot;&gt;&lt;/a&gt;2.mac/linux 更新node&lt;/h3&gt;&lt;p&gt;如果是mac/linux, 直接打开控制台&lt;/p&gt;</summary>
    
    
    
    <category term="technology" scheme="http://yoursite.com/categories/technology/"/>
    
    
    <category term="node" scheme="http://yoursite.com/tags/node/"/>
    
  </entry>
  
  <entry>
    <title>Vue项目创建</title>
    <link href="http://yoursite.com/2020/08/31/Vue%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA/"/>
    <id>http://yoursite.com/2020/08/31/Vue%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA/</id>
    <published>2020-08-31T01:36:00.000Z</published>
    <updated>2021-09-17T02:24:57.393Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-创建项目"><a href="#1-创建项目" class="headerlink" title="1.创建项目"></a>1.创建项目</h2><p>在默认配置都有的情况下：<br>vue init webpack 项目名称<br>cd 项目<br>npm install<br>npm run lint – –fix<br>npm run dev</p><p>feature/ELIM-16’ into ‘hotfix/1.3.1’ in 2020-09-07 16:34:22</p><h2 id="遇到问题"><a href="#遇到问题" class="headerlink" title="遇到问题"></a>遇到问题</h2><p>报错“ vue-cli · connect ECONNREFUSED ”<br>cnpm -v<br>查看到prefix=/usr/local,<br>于是 npm config set prefix=/usr/local 设置下<br>最后vue list 查看到</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-创建项目&quot;&gt;&lt;a href=&quot;#1-创建项目&quot; class=&quot;headerlink&quot; title=&quot;1.创建项目&quot;&gt;&lt;/a&gt;1.创建项目&lt;/h2&gt;&lt;p&gt;在默认配置都有的情况下：&lt;br&gt;vue init webpack 项目名称&lt;br&gt;cd 项目&lt;br&gt;npm </summary>
      
    
    
    
    <category term="technology" scheme="http://yoursite.com/categories/technology/"/>
    
    
    <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>&lt;&lt;侦探们的侦探&gt;&gt;-无人生还</title>
    <link href="http://yoursite.com/2020/05/29/-%E4%BE%A6%E6%8E%A2%E4%BB%AC%E7%9A%84%E4%BE%A6%E6%8E%A2--%E6%97%A0%E4%BA%BA%E7%94%9F%E8%BF%98/"/>
    <id>http://yoursite.com/2020/05/29/-%E4%BE%A6%E6%8E%A2%E4%BB%AC%E7%9A%84%E4%BE%A6%E6%8E%A2--%E6%97%A0%E4%BA%BA%E7%94%9F%E8%BF%98/</id>
    <published>2020-05-29T14:28:30.000Z</published>
    <updated>2021-07-23T02:58:10.575Z</updated>
    
    <content type="html"><![CDATA[<h1 id="lt-lt-侦探们的侦探-gt-gt-无人生还"><a href="#lt-lt-侦探们的侦探-gt-gt-无人生还" class="headerlink" title="&lt;&lt;侦探们的侦探&gt;&gt;-无人生还"></a>&lt;&lt;侦探们的侦探&gt;&gt;-无人生还</h1><p><em><strong>悬疑类短文</strong></em></p><h2 id="歇洛克篇"><a href="#歇洛克篇" class="headerlink" title="歇洛克篇"></a>歇洛克篇</h2><p> &emsp;&emsp;“情况相当糟糕呢！”<br> &emsp;&emsp;歇洛克抓了下脑门皱着眉头看向波洛，可语气中却没有一丝担心反而带着点调侃。<br> &emsp;&emsp;波洛扬了扬眉毛，裂开他那标志性的大嘴，无声的笑了笑。“我说过你不应该来，歇洛克。这是我家族的财产分配问题，你一个外人凑什么热闹？”<br> <span id="more"></span><br>&emsp;&emsp;“我们可是同一家侦探所的好搭档啊，一根绳上的蚂蚱，就像丝瓜的藤蔓与肉豆的藤须一样，我们可是一体的。而且这么美丽的一座岛这么漂亮的一幢别墅，可不是我想来就能来的，沾沾你的光嘛。”歇洛克嘿嘿笑着，消瘦的脸上不时露出些许猥琐。<br>&emsp;&emsp;波洛圆胖的脸上显出了不满的神色，“真想不通所长为什么会让你和我组成搭档，还有为什么你会获得歇洛克这个称号，我看是完全是因为你擅长吸毒吧。”<br>&emsp;&emsp;歇洛克摇头晃脑的大笑了起来，他不理波洛那板着的脸，直直的看向波洛的眼睛，<br>&emsp;&emsp;“因为我有这个！”指了指自己的脑袋，声音也低沉了下来，“我可以用这个抓住所有敢在我面前耍花样的罪犯！”<br>&emsp;&emsp;波洛脸不由自主的松了下来，莞然一笑，“恐怕你要失望了，因为我会先一步抓住罪犯。”“别这样嘛，我们可是一体的！”歇洛克恢复了之前嬉皮笑脸的样子，顺手抓起了波洛上衣口袋中的一包烟，抽出了好几根，但想了想又全都塞了回去，“还是小心点，毕竟你也是遗产的继承人之一，要是凶手在你的烟中下毒，那我不就成了你的替死鬼了。”歇洛克嘻嘻地把烟又重新塞回了波洛的上衣口袋中，波洛有些无奈地摇了摇头，“现在最重要的是找到那个喜欢下毒的家伙。”歇洛克表情变得凝重，点了点头，“整理一下吧，第一天死的是你大哥，凶手在他每晚必喝的红酒中下了毒，而你三妹则是刚刚吃饭时中的毒，恩。”歇洛克停了下来，开始思考，波洛凝神听着，却没有听到歇洛克接下来的言论，“哎，怎么不说我父亲的那个私生子呢？”波洛奇怪的问。<br> &emsp;&emsp;“嘿嘿，那个私生子关我什么事。我和你是一体的，所以我和你的兄弟姐妹也是一体的，当然先关注他们的死因嘛。”<br>&emsp;&emsp;波洛翻了翻白眼，也不接话，直接道：“那个私生子不论真假，但在来时的船上是否真的被人推入大海生死不明，又或者是伪装的假象？这就不知道了。”<br>&emsp;&emsp; 歇洛克沉思了良久，摇了摇头“不是假象，你是有事第二天来的，不知道情况，但当时我在场，那种大浪，根本不是靠游泳就能逃出生天的。”<br>&emsp;&emsp; “只可惜我来的时候坐的那条船，被那个凶手给毁了。”波洛满脸遗憾的摇了摇头。“算了，我先回客厅，我们两个分头调查吧。”说完也不等歇洛克回应，转身走了。<br>&emsp;&emsp;歇洛克早已习惯了波洛的作风，也不以为意，只是嘿嘿笑了笑，当下就转身往厨房走去，“三妹死在吃饭过程中，虽然应该不会有什么发现，不过还是去厨房看看再说吧。”<br>&emsp;&emsp;厨房中只有一个佣人，应该说整个别墅只有一个，由于在吃饭时发生了中毒事件，波洛已经命令佣人不准打扫厨房，所以此时佣人正茫然的看着眼前凌乱的餐具，不知在想什么，手在下意识的扳动着手表，他并没有发现歇洛克的到来，而歇洛克也并没有和他说话。<br>&emsp;&emsp;歇洛克望着佣人扳手表的动作，一声不吭，良久，“原来如此。”歇洛克眼中闪烁着光芒，脸上露出了满意的笑容，接着转身走出了厨房。<br>&emsp;&emsp;歇洛克慢慢的向会客厅走去，心中不知在想着什么，脸上不时露出一些莫名的笑容。刚走到拐角处，突然一个黑影向他罩了过来，把歇洛克直接罩住了，是一件风衣！还没等他反应过来，一个尖锐的物体刺进了他的身体，拔出，刺入，再拔出，再刺入。<br>&emsp;&emsp;歇洛克感觉到一阵阵地疼痛，他挣扎着把衣服从头上拉了下来，迎面看见的是波洛那张冷酷的脸。“你···！”波洛仿佛没有注意歇洛克那愤怒的表情，表情没有一点变化，“我已经提醒你别多管闲事了，安息吧，我的朋友。”“不，我们是···一体的···”歇洛克双目圆睁，脸露痛苦之色，双手不断往前伸想抓住波洛，但被他轻巧躲过，波洛没有再次拔刀，他松开了手，不再看死者一眼，转身离去，只留下歇洛克不瞑目的躺在走廊···</p><h2 id="波洛篇"><a href="#波洛篇" class="headerlink" title="波洛篇"></a>波洛篇</h2><p>&emsp;&emsp;“一切都在我的掌握之中。”<br>&emsp;&emsp;波洛站在驾驶舱里，虽然外面的风浪有些大，远处岛屿上冲天火焰，但这些都没有影响到波洛的心情，利用家人从小养成的小习惯、小动作把他们一一杀死，简直不费吹灰之力，这本来就是他设计的一个无人生还的局，包括这天气也在他的算计中。<br>&emsp;&emsp;没有人知道他去了岛上，因为他是第二天独自开船去的，不在场证明也已经准备好了，而且没有人会想到凶手会是一名声名显赫的名侦探。<br>&emsp;&emsp;波洛从上衣口袋中掏出了烟盒，不禁笑了起来，因为他想到了他那愚蠢的搭档，他恐怕到死都没想到自己居然如此果断的就杀了他吧。虽然打心眼里波洛看不起歇洛克，但波洛也不得不承认他的搭档可是个侦破好手，如果不解决了他，事件绝对不会发展的如此顺利。<br>&emsp;&emsp;掏出火机，点燃了烟，波洛深深吸了一口，“呼~~~”，在岛上都憋坏了，为了假装害怕被人毒死，这几天他都没有抽烟，现在终于可以好好的放松一下了，波洛有接着猛吸了几口，直接把一根烟吸到了底。<br>&emsp;&emsp;咦？奇怪了？今天风很大不可能起雾啊！<br>&emsp;&emsp;“不对！是我看不清了！”一向镇定的波洛面对着模糊的视野也不禁慌了神，他摇摇晃晃的从颠簸地驾驶舱中走出，想去船舱中那瓶水洗下眼睛，但未想刚走出船舱，一个大浪打了过来，直接把波洛颠到了船外！<br>&emsp;&emsp;咕噜咕噜噜，波洛连吞了好几口海水，他挣扎着想游上去，但他惊慌的发现自己四肢已经动弹不得，眼前也是一片漆黑，怎么会这样？！<br>波洛的大脑在这生死关头以极快的速度转动着，是烟！接着他想到自己的烟只被一个人碰过，是歇洛克！<br>&emsp;&emsp;为什么？为什么会是他！<br>&emsp;&emsp;在这座岛上，歇洛克是唯一的外人，他是唯一一个没有继承权却呆在岛上的人，他是唯一一个没有动机去杀人的人，为什么？为什么！！<br>波洛已经开始缺氧了，他痛苦的在大海中挣扎着。<br>&emsp;&emsp;“就像丝瓜的藤蔓与肉豆的藤须一样，我们可是一体的。”“我和你的兄弟姐妹也是一体的，那个私生子关我什么事。”“我们是一体的···”<br>&emsp;&emsp;犹如一道闪电划过脑海，难道！！<br>&emsp;&emsp;波洛瞬间明白了一切！<br>&emsp;&emsp;一直以来波洛都认为这是歇洛克的口头禅，所以根本没有深想，而现在把所有事情结合起来，所有的线都连起来了，恐怕歇洛克是自己的亲兄弟。也就是说那个私生子是假的！真正的私生子是歇洛克！<br>&emsp;&emsp; 那个假的私生子恐怕是歇洛克事先雇的骗子，把自己抛离到继承人之外，就能暂时远离危险，他在我的烟中下毒，恐怕是准备在找到凶手后，把我当做替罪羊！<br>&emsp;&emsp;从头到尾他都在算计着自己！<br>&emsp;&emsp;不甘心啊···<br>&emsp;&emsp;波洛已经越沉越深，毒素也开始侵蚀波洛的大脑，吞噬了他最后的一丝清明···</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;lt-lt-侦探们的侦探-gt-gt-无人生还&quot;&gt;&lt;a href=&quot;#lt-lt-侦探们的侦探-gt-gt-无人生还&quot; class=&quot;headerlink&quot; title=&quot;&amp;lt;&amp;lt;侦探们的侦探&amp;gt;&amp;gt;-无人生还&quot;&gt;&lt;/a&gt;&amp;lt;&amp;lt;侦探们的侦探&amp;gt;&amp;gt;-无人生还&lt;/h1&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;悬疑类短文&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;歇洛克篇&quot;&gt;&lt;a href=&quot;#歇洛克篇&quot; class=&quot;headerlink&quot; title=&quot;歇洛克篇&quot;&gt;&lt;/a&gt;歇洛克篇&lt;/h2&gt;&lt;p&gt; &amp;emsp;&amp;emsp;“情况相当糟糕呢！”&lt;br&gt; &amp;emsp;&amp;emsp;歇洛克抓了下脑门皱着眉头看向波洛，可语气中却没有一丝担心反而带着点调侃。&lt;br&gt; &amp;emsp;&amp;emsp;波洛扬了扬眉毛，裂开他那标志性的大嘴，无声的笑了笑。“我说过你不应该来，歇洛克。这是我家族的财产分配问题，你一个外人凑什么热闹？”&lt;br&gt;</summary>
    
    
    
    <category term="创作" scheme="http://yoursite.com/categories/%E5%88%9B%E4%BD%9C/"/>
    
    
  </entry>
  
</feed>
